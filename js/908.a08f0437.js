"use strict";(self["webpackChunktwitter_front_2020"]=self["webpackChunktwitter_front_2020"]||[]).push([[908],{908:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sign-container"},[t("div",{staticClass:"sign-wrapper"},[e._m(0),t("div",{staticClass:"sign-title"},[e._v("後台登入")]),t("form",{staticClass:"sign-form",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"form-row sign-form-row mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",staticStyle:{"background-color":"#F5F8FA"},attrs:{type:"email",maxlength:"50",id:"signInInputEmail","aria-describedby":"emailHelp",placeholder:"帳號",name:"email",onkeyup:"value=value.replace(/[^\\a-\\z\\A-\\Z0-9\\@\\.\\-\\*]/g,'')",onpaste:"value=value.replace(/[^\\a-\\z\\A-\\Z0-9\\@\\.\\-\\*]/g,'')",oncontextmenu:"value=value.replace(/[^\\a-\\z\\A-\\Z0-9\\@\\.\\-\\*]/g,'')",required:"",autofocus:""},domProps:{value:e.email},on:{keyup:e.words_deal,input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._m(1)]),t("div",{staticClass:"form-row sign-form-row mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",staticStyle:{"background-color":"#F5F8FA"},attrs:{type:"password",maxlength:"20",id:"signInInputPassword",placeholder:"密碼",name:"password",onkeyup:"value=value.replace(/[^\\a-\\z\\A-\\Z0-9\\@\\.\\-\\*]/g,'')",onpaste:"value=value.replace(/[^\\a-\\z\\A-\\Z0-9\\@\\.\\-\\*]/g,'')",oncontextmenu:"value=value.replace(/[^\\a-\\z\\A-\\Z0-9\\@\\.\\-\\*]/g,'')",required:""},domProps:{value:e.password},on:{keyup:e.words_deal,input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._m(2)]),t("button",{staticClass:"btn sign-btn",attrs:{type:"submit",disabled:e.isProcessing}},[e._v("登入")]),t("div",{staticClass:"sign-form-footer"},[t("router-link",{attrs:{to:"/signin"}},[e._v("前臺登入")])],1)])])])},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"sign-logo-wrapper"},[t("img",{attrs:{src:s(934),alt:""}})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"textContent-span-wrapper"},[t("span",{staticClass:"textContent-span textContent-span-warning textContent-span-hidden"},[e._v("字數已達上限!")]),t("span",{staticClass:"textContent-span textContent-span-hidden"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"textContent-span-wrapper"},[t("span",{staticClass:"textContent-span textContent-span-warning textContent-span-hidden"},[e._v("字數已達上限!")]),t("span",{staticClass:"textContent-span textContent-span-hidden"})])}],r=(s(6699),s(1703),s(5190)),i=s(6163),o={data(){return{email:"",password:"",isProcessing:!1,allowedSymbols:"@.*-",allowedNumbers:"0123456789",allowedUpperChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",allowedLowerChars:"abcdefghijklmnopqrstuvwxyz"}},methods:{async handleSubmit(e){try{if(!this.email||!this.password)return void i.F.fire({icon:"warning",title:"請填寫 email 和 password"});const s=[];if(this.email.length>50&&s.push("Email"),this.password.length>20&&s.push("Password"),s.length>0){let c="";return s.forEach((e=>{c+=`${e} `})),c+="輸入內容長度超出限制",void i.F.fire({icon:"warning",title:c})}const n=[],a=this.allowedSymbols+this.allowedNumbers+this.allowedUpperChars+this.allowedLowerChars;function o(e,t,s){for(let a=0;a<e.length;a++)if(!s.includes(e[a]))return void n.push(`${t}`)}if(o(this.email,"Email",a),o(this.password,"Password",a),n.length>0){let u="";return n.forEach((e=>{u+=`${e} `})),u+="只允許半形大小寫英文、數字與 @*-. 符號",void i.F.fire({icon:"warning",title:u})}this.isProcessing=!0;const l=await r.Z.signInAdmin({email:this.email,password:this.password}),{data:d}=l;if("success"!==d.status)throw new Error;localStorage.setItem("token",d.token),localStorage.setItem("user",d.user),this.$router.push("/admin/main")}catch(t){this.isProcessing=!1,this.password="";let p="伺服器維護中，請稍後再試";t.response.data.message&&(p=t.response.data.message),i.F.fire({icon:"warning",title:p}),console.warn("error",t)}},words_deal(e){const t=e.target.attributes.maxlength.value,s=e.target.value.length;t-s<=20?(e.target.parentElement.children[1].children[1].classList.remove("textContent-span-hidden"),e.target.parentElement.children[1].children[1].textContent=`${s}/${t}`,s>=t?e.target.parentElement.children[1].children[0].classList.remove("textContent-span-hidden"):e.target.parentElement.children[1].children[0].classList.add("textContent-span-hidden")):(e.target.parentElement.children[1].children[0].classList.add("textContent-span-hidden"),e.target.parentElement.children[1].children[1].classList.add("textContent-span-hidden"))}}},l=o,d=s(1001),c=(0,d.Z)(l,n,a,!1,null,null,null),u=c.exports},5190:function(e,t,s){var n=s(6163);t["Z"]={signIn({email:e,password:t}){return n.l.post("/users/signin",{email:e,password:t})},signUp({account:e,name:t,email:s,password:a,checkPassword:r}){return n.l.post("/users",{account:e,name:t,email:s,password:a,checkPassword:r})},signInAdmin({email:e,password:t}){return n.l.post("/admin/users/signin",{email:e,password:t})},getTweets(){return n.l.get("/admin/tweets")},deleteTweet({tweetId:e}){return n.l["delete"](`/admin/tweets/${e}`)},getUsers(){return n.l.get("/admin/users")},recountUserTweetsRepliesLikesNum(){return n.l.get("/admin/recountUserTweetsRepliesLikesNum")},recountUserFollowersNum(){return n.l.get("/admin/recountUserFollowersNum")}}},934:function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=908.a08f0437.js.map