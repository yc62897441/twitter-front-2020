"use strict";(self["webpackChunktwitter_front_2020"]=self["webpackChunktwitter_front_2020"]||[]).push([[995],{430:function(t,e,s){s.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal fade",attrs:{id:"modalNewTweet",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"modal-new-tweet-wrapper"},[e("div",{staticClass:"modal-new-tweet-wrapper-left"},[e("router-link",{staticClass:"link",attrs:{to:"/users/"+t.currentUser.id}},[e("img",{attrs:{src:t.currentUser.avatar,alt:"",type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])],1),e("form",{staticClass:"modal-new-tweet-wrapper-right"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTweetDescription,expression:"newTweetDescription"}],attrs:{cols:"30",rows:"5",maxlength:"140",placeholder:"有什麼新鮮事？",name:"newTweetDescription",required:""},domProps:{value:t.newTweetDescription},on:{keyup:t.words_deal,input:function(e){e.target.composing||(t.newTweetDescription=e.target.value)}}}),e("div",{staticClass:"textContent-span-wrapper"},[e("span",{staticClass:"textContent-span textContent-span-warning textContent-span-hidden"},[t._v("字數已達上限!")]),e("span",{staticClass:"textContent-span textContent-span-hidden"}),e("button",{staticClass:"btn btn-orange btn-new-tweet",attrs:{type:"button","data-bs-dismiss":"modal",disabled:t.isProcessing},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[t._v("推文")])])])])])])])])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("img",{attrs:{src:s(7092),alt:"",type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],i=(s(1703),s(3729)),r=s(6163),l={props:{currentUser:{type:Object,required:!0}},data(){return{isProcessing:!1,newTweetDescription:""}},methods:{async handleSubmit(t){try{if(!this.newTweetDescription.trim())return void r.F.fire({icon:"warning",title:"推文內容不可為空白"});this.newTweetDescription.length>140&&(this.newTweetDescription=this.newTweetDescription.slice(0,140)),this.isProcessing=!0;const e={userId:this.currentUser.id,description:this.newTweetDescription},{data:s}=await i.Z.postTweet({formData:e});if("success"!==s.status)throw new Error(s.message);this.$emit("after-post-new-tweet",{...e,tweetId:s.tweetId}),this.newTweetDescription="",t.target.parentElement.children[0].classList.add("textContent-span-hidden"),t.target.parentElement.children[1].classList.add("textContent-span-hidden"),this.isProcessing=!1}catch(e){console.warn(e)}},words_deal(t){const e=t.target.attributes.maxlength.value,s=t.target.value.length;e-s<=20?(t.target.parentElement.children[1].children[1].classList.remove("textContent-span-hidden"),t.target.parentElement.children[1].children[1].textContent=`${s}/${e}`,s>=e?t.target.parentElement.children[1].children[0].classList.remove("textContent-span-hidden"):t.target.parentElement.children[1].children[0].classList.add("textContent-span-hidden")):(t.target.parentElement.children[1].children[0].classList.add("textContent-span-hidden"),t.target.parentElement.children[1].children[1].classList.add("textContent-span-hidden"))}}},o=l,d=s(1001),A=(0,d.Z)(o,a,n,!1,null,null,null),c=A.exports},2090:function(t,e,s){s.d(e,{Z:function(){return w}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal fade",attrs:{id:"modal"+t.tweet.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"modal-tweet-wrapper"},[e("div",{staticClass:"modal-tweet-wrapper-left"},[e("router-link",{staticClass:"link",attrs:{to:"/users/"+t.tweet.User.id}},[e("img",{attrs:{src:t.tweet.User.avatar,alt:"",type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),e("span")],1),e("div",{staticClass:"modal-tweet-wrapper-right"},[e("div",{staticClass:"modal-tweet-info"},[e("router-link",{staticClass:"link",attrs:{to:"/users/"+t.tweet.User.id}},[e("div",{staticClass:"modal-tweet-info-name",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[t._v(" "+t._s(t.tweet.User.name))])]),e("router-link",{staticClass:"link",attrs:{to:"/users/"+t.tweet.User.id}},[e("div",{staticClass:"modal-tweet-info-account",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[t._v(" @"+t._s(t.tweet.User.account)+" ")])]),e("div",{staticClass:"modal-tweet-info-data"},[t._v("・"+t._s(t._f("fromNow")(t.tweet.createdAt)))])],1),e("div",{staticClass:"modal-tweet-description"},[t._v(" "+t._s(t.tweet.description)+" ")]),e("div",{staticClass:"modal-reply-to"},[t._v(" 回覆給 "),e("router-link",{staticClass:"link",attrs:{to:"/users/"+t.tweet.User.id}},[e("p",{attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[t._v("@"+t._s(t.tweet.User.account))])])],1)])]),e("div",{staticClass:"modal-tweet-reply-wrapper"},[e("div",{staticClass:"modal-tweet-reply-wrapper-left"},[e("router-link",{staticClass:"link",attrs:{to:"/users/"+t.currentUser.id}},[e("img",{attrs:{src:t.currentUser.avatar,alt:"",type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])],1),e("form",{staticClass:"modal-tweet-reply-wrapper-right"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTweetReply,expression:"newTweetReply"}],attrs:{tweetId:t.tweet.id,cols:"30",rows:"5",placeholder:"推你的回覆",maxlength:"140",name:"newTweetReply",required:""},domProps:{value:t.newTweetReply},on:{keyup:t.words_deal,input:function(e){e.target.composing||(t.newTweetReply=e.target.value)}}})])])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"textContent-span-wrapper",attrs:{id:"textContent-span-wrapper"+t.tweet.id}},[e("span",{staticClass:"textContent-span textContent-span-warning textContent-span-hidden"},[t._v("字數已達上限!")]),e("span",{staticClass:"textContent-span textContent-span-hidden"}),e("button",{staticClass:"btn btn-orange btn-new-tweet",attrs:{type:"button","data-bs-dismiss":"modal",disabled:t.isProcessing},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit(t.tweet.id,e)}}},[t._v("回覆")])])])])])])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("img",{attrs:{src:s(7092),alt:"",type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],i=s(3729),r=s(3459),l=s(6163),o={props:{tweet:{type:Object},currentUser:{type:Object,required:!0}},data(){return{newTweetReply:"",isProcessing:!1}},methods:{async handleSubmit(t,e){try{if(""===this.newTweetReply.trim())return void l.F.fire({icon:"warning",title:"回覆內容不可為空白"});this.newTweetReply.length>140&&(this.newTweetReply=this.newTweetReply.slice(0,140)),this.isProcessing=!0;const s={userId:this.currentUser.id,comment:this.newTweetReply},{data:a}=await i.Z.postTweetReply({formData:s,tweetId:t});this.$emit("after-post-tweet-reply",{...a,Tweet:{...this.tweet}}),this.newTweetReply="",e.target.parentElement.children[0].classList.add("textContent-span-hidden"),e.target.parentElement.children[1].classList.add("textContent-span-hidden"),this.isProcessing=!1}catch(s){this.isProcessing=!1,console.warn(s)}},words_deal(t){const e=t.target.attributes.maxlength.value,s=t.target.value.length,a=document.querySelector(`#textContent-span-wrapper${Number(t.target.attributes.tweetid.value)}`);e-s<=20?(a.children[1].classList.remove("textContent-span-hidden"),a.children[1].textContent=`${s}/${e}`,s>=e?a.children[0].classList.remove("textContent-span-hidden"):a.children[0].classList.add("textContent-span-hidden")):(a.children[0].classList.add("textContent-span-hidden"),a.children[1].classList.add("textContent-span-hidden"))}},mixins:[r.q]},d=o,A=s(1001),c=(0,A.Z)(d,a,n,!1,null,null,null),w=c.exports},7092:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE5SURBVHgB7ZjBDcIwDEV/mAA2YDPgAHcmgBE4wwGYDDaADUosVFFB1LjpjyDFT6qQImL/37qNE8AwDMMwhk61xNxft2qFi79myERKHqf5kwT0P9PG0NztcQYREe/VHF8DuLsDJrF5I2ioMH4bOTGfxId4weGumaszAKwDYxQTQfFPtlCgKqFIouRyYsRUG2AlZMfqZICVmHkjOhvoK4BdikkGUoXkeI+SDXQVlEO80MuAoBGWS7zQ24DQJtAvgi6XeIFiQGgxEYLWitAMCEoT1D6KakCImKA3gdpe6GexEqr51ktMKaHIZ3QRGKftJ/57ISu6lSi6mSu6nS56Q1P0lrLoTX3Oz2Df2LqFzGGTmiAa+oBTcLGrsNPMTz2Z4/YzIRMZTuaucl6JDC2x0DBR59nCMAzDMIbOA+RW1bI/UTkEAAAAAElFTkSuQmCC"},5179:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMKSURBVHgB7ZlNbtpAFMffDNA1F6iwWy+ya3KCwglKd12EFNQDNJwAOEHICUoBVdmVG5ScoFlWwsiuKnVbV6q6KPa8zpiigj0Gf0zAkfhtEM/jmfd/vBm/ZwCOHDnyoCFJBltaswxFOKWEPQOEsm9EsJlHb3V7YCeYSsylQQmqFFllZWPA5zEHU0hALAFLx9klH/yWfy1HTDUliIPKfPh+61xGs0oAO1x5NWKIA0gm6JFenKDsFGA9aTQJJVcQ6XgAJAO+eJsv7mzMI4JQYn2C8DrePGBz57q7ArJVgGVcdPmADiSFL44era0iaJ00NeKxT9yuQUIQoKebw27U9UgBltHgKeNHPh1LEWf+IiX2OY3z/6fCtm6O+rJrUgF+xFxmQWZwAoTynMYmZMNBl57J9kRRNpp4mDxtpJA6dx4UUCZF7x3/rIVWCBrURV89CKymm+Ppuo0GB6mLvnooFF6EbUEQTyGnoOTZQSXjcisAJL5tCBD5Dznnu/6msv6dwgMndArZxoWSc+++0Mzhhs/hX4CADfnFCRpkp5ANuQXvgpbwc4CXxZBTZL6FBDBgt5BTKOA0aJMWc3wj/4C49f++4NWtNh/qQbP0GOWq+pA7wtEXSAUwl15DzkBv0ZPZpQKW7aBc8UHgvbZu39iyS5FPYiwuWpAToqIviBSgf7nhTTUefi9sib5gay3E3IJQ7sCh8Pvq6OgLtgoQewEJtuFAiNcq26L/b8xubKPx0e9v9wlPHW0+2rkPY5XT6BZaey3yYqTOilgC/FQC9yXsZz846P2p7UqdFbEbGn324W4f+wGRteI6L0jUkemz0YAA68I9IebW5+NJsntS8NU47yDQLihEOF8xx7HyfvO+lKgUkdb55b0ZUCGCEHZZmY1TF4+ZBAisp+d1QulVirfPTgGw/tgcZWqgMgsQWCev+Pv/Rwne/+MU3UWi0yYKJQJWxEgph6dMN0vKBFEqQLD8NUod/leTKD1WbanDN2qfub+udXui9GGoXMA634zGc5d4P2Hx21bt+JEjR5b8BdbIQk1wThRGAAAAAElFTkSuQmCC"},5813:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMFSURBVHgBvVa9UhNRFD5nN8nGbn0CwwtI6Cyckcz4ALG0Mo7A0BEbosloksHARAqgYwzC0tmBpY2BwtKZ+AQuT2DGGZXdJXs85+5ugPyQ8KNfszd3Nt93v3vP/c4C/Cdg70Q+XzZ/JpPZmE+T8ptQs3X483GzXrUHEcj7v4xbT/jNNBK1OwCH798W9y8UmltcyhLqOzw0+ynJ8hz3ubVebZ8KJCpMsTCA1AYNKu9Wirt9QnOFWoUAyxGpT3igEdiIwOKQ5cmUELiOM5U0kqZP/h4hpgmgDeSvA8ZaASHxu5RTLEDVrXqp0hUKnezJn9CHbGO1eHh2hbnCSioOtMdDJiZZgCkiQNTyXDcTuYwwW6yloYNN2RmCTmar/upAC3zpa2oFBPleEYFVf2l7SSfDwxYCTisRdjdIRNBYLrVY4JGMNVBHAThTWJlmu01ZKdvMwAUInX2XsQfOhDWkQLrOCjV2xQtjVxrbeBDu4T6MgDjr+PTUJ8iNEgmg7wfc2mQsmuLDb8MY2F4tWTAmuGCONJQjQVODfwgRiMYaOzmSgc4VBTcMDemOEuTC0XTwVf37SDcuhIjTSpDom7pHs4XlH/wwPce5Pahcr4J5rtBOUKF2o16cUGeEBOvyjCWMBbgh+ECKi++mJU8l5N5yNkBSASif4wyDa0Lc8ENiC07Q2e0KWdVqW7lCNONGYg2uCU7wMkk2cgZG961b3qErnsTcM84+uCJmX9RyYajaLnob0fy5NjFTWOI40pu8sW0d3anNsW7/KWTLfBVnkJL04L7UbRPnLqykLCurLfTBaF7mvM6KEPmVsyJ9jiJEYTisDfRCmuDvRKIZ9KfB4TwwgrykKxHfYmfpOBPMF8opuMBJJCILO3HUf/uAwwhy5bIZPzakeaWls2rgZHrPTBocdlAaZmqU+6FCkVjs2NjB8E5ErVltlZHIU/C9YPZ+T1xaKMLc4psyfw1Vwp8RmUnBJa806qWNURw6jIGvXz4f3r3/cFcHFfv3WOCYBT6cgPt4u/760zgcfwF3GILzizk+5gAAAABJRU5ErkJggg=="},3009:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKZSURBVHgBtVZdUhpBEO4e0U3eNjfAE4gnEG8Qb7BWgZU3Nw9KAlJIJUCAh+BbCrACJ4g5geQEkhO4NwgvsbILO52eWUBEKP7W72WmZne/nm96ur9FWADbzpn/jFfmACA663kEwPlW/ugs4sF55A/Gjk0gDgAoDkuAADtCUKteSreXCpRIleIC6Ds9KnB43kWg3uwQEOUgMSYyh4QOSTpqVDPduYFOUoVL/ig33GMLJLYa1fQvWALJs+IBCLT4O0sTC9+ql7LtZ4GSHwoWEColPUG+Xa9k27AGEuefbUTxVW8V/MNmOdsZB3qXKkUl0K06Lkn+0XUlewMbYLRpdYye6+63avmeUA98gFyQE2ptGkSh8SXTYr4bxRnZMU7VmghkBTerD14eQgJK0lyIYOkxeVaIcRLvCKjTLGcOIUQkU8U7HmJ9130jJGJULQrCLoSOgHN729gTRKjvv+TbBi8IMTExIWRw7secYguklieRYhAyRt2l33d/6zripP3hwVRJU3ceQoCqTR/ongi6zUp6P7jeBDU1RgwjByFB1aYaWZXm1oG81+4VDw7LsxPc72BDnJx/ejvseY7vuT/V2mOvS3M9+XjLU5NrKj9wvdo6xzjJIwms60pgGzjjpR88jep2z0XMntRGKXtbQvQWGVzivMgNVR+ZSSQvm5WLcad55kcWJ3Fbn2/Q7icxr3soo/xr7Fwy3enwTbtRzlxNvjPTYUcBhZTxCOIe6auPcV52GuX07hMVT43S4cq3ZnnY3EDT4BKgyUDTKpBkzfP6+Xl5jcAaUCoeWAVoG4cekX+8yF4ErIhkqlDDoUkqzxm47u4yHraqoujwqBx24vermOTKilQuuFXtr+rESyvyJR1vAd7XqxdL/RVN4z/w7DhrDprj5QAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=995.ce8dd1f6.js.map