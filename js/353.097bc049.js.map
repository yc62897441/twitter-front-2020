{"version":3,"file":"js/353.097bc049.js","mappings":"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","sources":["webpack://twitter-front-2020/./src/components/FollowingsBar.vue","webpack://twitter-front-2020/src/components/FollowingsBar.vue","webpack://twitter-front-2020/./src/components/FollowingsBar.vue?eab7","webpack://twitter-front-2020/./src/components/FollowingsBar.vue?e786","webpack://twitter-front-2020/./src/components/Navbar.vue","webpack://twitter-front-2020/src/components/Navbar.vue","webpack://twitter-front-2020/./src/components/Navbar.vue?4a00","webpack://twitter-front-2020/./src/components/Navbar.vue?e7f9","webpack://twitter-front-2020/./src/api/followships.js","webpack://twitter-front-2020/./src/api/tweets.js","webpack://twitter-front-2020/./src/utils/eventBus.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"followingsBar-wrapper\"},[_c('div',{staticClass:\"followingsBar-title\"},[_vm._v(\"Popular\")]),_vm._l((_vm.recommendedFollowings),function(recommendedFollowing){return _c('div',{staticClass:\"recommended-following-wrapper\"},[_c('div',{staticClass:\"following-info-wrapper\"},[_c('div',{staticClass:\"avatar-wrapper\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + recommendedFollowing.id}},[_c('img',{attrs:{\"src\":recommendedFollowing.avatar,\"alt\":\"\"}})])],1),_c('div',{staticClass:\"info-wrapper\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + recommendedFollowing.id}},[_c('div',{staticClass:\"info-wrapper-name\"},[_vm._v(_vm._s(recommendedFollowing.name))])]),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + recommendedFollowing.id}},[_c('div',{staticClass:\"info-wrapper-account\"},[_vm._v(\"@\"+_vm._s(recommendedFollowing.account))])])],1)]),_c('div',{staticClass:\"follow-btn-wrapper\"},[(!_vm.currentUser.Followings.includes(recommendedFollowing.id))?_c('button',{staticClass:\"btn btn-orange\",attrs:{\"type\":\"button\",\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.postFollowship(recommendedFollowing.id)}}},[_vm._v(\"跟隨\")]):_c('button',{staticClass:\"btn btn-orange btn-isFollowed\",attrs:{\"type\":\"button\",\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.deleteFollowship(recommendedFollowing.id)}}},[_vm._v(\"正在跟隨\")])])])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"followingsBar-wrapper\">\r\n    <div class=\"followingsBar-title\">Popular</div>\r\n    <div v-for=\"recommendedFollowing in recommendedFollowings\" class=\"recommended-following-wrapper\">\r\n      <div class=\"following-info-wrapper\">\r\n        <div class=\"avatar-wrapper\">\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + recommendedFollowing.id\">\r\n            <img v-bind:src=\"recommendedFollowing.avatar\" alt=\"\">\r\n          </router-link>\r\n        </div>\r\n        <div class=\"info-wrapper\">\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + recommendedFollowing.id\">\r\n            <div class=\"info-wrapper-name\">{{ recommendedFollowing.name }}</div>\r\n          </router-link>\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + recommendedFollowing.id\">\r\n            <div class=\"info-wrapper-account\">@{{ recommendedFollowing.account }}</div>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n      <div class=\"follow-btn-wrapper\">\r\n        <button type=\"button\" class=\"btn btn-orange\" v-on:click=\"postFollowship(recommendedFollowing.id)\"\r\n          v-bind:disabled=\"isProcessing\" v-if=\"!currentUser.Followings.includes(recommendedFollowing.id)\">跟隨</button>\r\n        <button type=\"button\" class=\"btn btn-orange btn-isFollowed\"\r\n          v-on:click=\"deleteFollowship(recommendedFollowing.id)\" v-bind:disabled=\"isProcessing\" v-else>正在跟隨</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport followshipAPI from '../api/followships'\r\nimport eventBus from \"../utils/eventBus\"\r\nimport { Toast } from '../utils/helpers'\r\n\r\nexport default {\r\n  props: {\r\n    currentUser: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      recommendedFollowings: [],\r\n      isProcessing: false,\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchRecommendedFollowings() {\r\n      try {\r\n        const response = await followshipAPI.getRecommendedFollowings()\r\n        if (response.status !== 200) {\r\n          throw new Error()\r\n        }\r\n        const data = response.data\r\n        this.recommendedFollowings = data\r\n      } catch (error) {\r\n        console.warn(error)\r\n      }\r\n    },\r\n    async postFollowship(followingId) {\r\n      try {\r\n        this.isProcessing = true\r\n        const currentUserId = this.currentUser.id\r\n        const formData = {\r\n          userId: currentUserId,\r\n          id: followingId\r\n        }\r\n        const { data } = await followshipAPI.postFollowship({ formData })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n        // 更新前端畫面\r\n        // 切換 FollowingBar 上的 \"跟隨/正在跟隨\" 按鈕 \r\n        this.currentUser.Followings.push(followingId)\r\n\r\n        // 更新前端畫面\r\n        // 如果在 currentUser 的 Followship 畫面，使用者 post/delete Followship 後，要在 FollowshipSection 的 userFollowings(正在跟隨) 畫面上增加 userFollowingsInData 的筆數。(不需要做減少的功能，已經有做連動切換 \"跟隨/正在跟隨\" button 樣式 的功能，可供使用者判斷；保留該筆資料，如使用者不小心 delete Followship 時，還可以再點追蹤 button post Followship)\r\n        if (Number(this.$route.params.id) === this.currentUser.id && this.$route.name === 'userFollowship') {\r\n          let newUserFollowing = {}\r\n          this.recommendedFollowings.forEach(recommendedFollowing => {\r\n            if (recommendedFollowing.id === followingId) {\r\n              newUserFollowing = {\r\n                followingUser: {\r\n                  ...recommendedFollowing,\r\n                }\r\n              }\r\n            }\r\n          })\r\n          this.dataToBrotherFollowshipSection('post', 'atCurrentUserPage', newUserFollowing)\r\n        }\r\n        // 如果在其他 User 的 Followship 畫面，使用者 post/delete Followship 後，要在 FollowshipSection 的 userFollowers(跟隨者) 畫面上增加 userFollowers 的筆數。\r\n        if (Number(this.$route.params.id) === followingId && this.$route.name === 'userFollowship') {\r\n          let newUserFollower = {\r\n            followerId: currentUserId,\r\n            followerUser: {\r\n              account: this.currentUser.account,\r\n              avatar: this.currentUser.avatar,\r\n              id: this.currentUser.id,\r\n              introduction: this.currentUser.introduction,\r\n              name: this.currentUser.name,\r\n            },\r\n            followingId: followingId,\r\n          }\r\n         this.dataToBrotherFollowshipSection('post', 'atOtherUserPage', newUserFollower)\r\n        }\r\n        // 如果在 currentUser 的 User.vue 畫面，在 post Followship 後，要在 UserBoard 新增\"跟隨中\"的數目\r\n        if (Number(this.$route.params.id) === this.currentUser.id && this.$route.name === 'user') {\r\n          this.$emit('after-post-followship', {\r\n            situation: 'atCurrentUserPage',\r\n            followingId: followingId\r\n          })\r\n        }\r\n        // 如果在其他 User 的 User.vue 畫面，在 post Followship 後，要在 UserBoard 新增\"跟隨者\"的數目\r\n        if (Number(this.$route.params.id) === followingId && this.$route.name === 'user') {\r\n          this.$emit('after-post-followship', {\r\n            situation: 'atOtherUserPage',\r\n            followerId: currentUserId\r\n          })\r\n        }\r\n\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    async deleteFollowship(followingId) {\r\n      try {\r\n        this.isProcessing = true\r\n        const currentUserId = this.currentUser.id\r\n        const { data } = await followshipAPI.deleteFollowship({ followingId })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n        // 更新前端畫面\r\n        // 切換 FollowingBar 上的 \"跟隨/正在跟隨\" 按鈕 \r\n        this.currentUser.Followings = this.currentUser.Followings.map(followings => {\r\n          if (followings !== followingId) {\r\n            return followings\r\n          }\r\n        })\r\n\r\n        // 如果在其他 User 的 Followship 畫面，使用者 post/delete Followship 後，要在 FollowshipSection 的 userFollowers(跟隨者) 畫面上減少 userFollowers 的筆數。\r\n        if (Number(this.$route.params.id) === followingId && this.$route.name === 'userFollowship') {\r\n          let deleteUserFollower = {\r\n            followerId: currentUserId,\r\n            followingId: followingId,\r\n          }\r\n          this.dataToBrotherFollowshipSection('delete', 'atOtherUserPage', deleteUserFollower)\r\n        }\r\n        // 如果在 currentUser 的 User.vue 畫面，在 delete Followship 後，要在 UserBoard 減少\"跟隨中\"的數目\r\n        if (Number(this.$route.params.id) === this.currentUser.id && this.$route.name === 'user') {\r\n          this.$emit('after-delete-followship', {\r\n            situation: 'atCurrentUserPage',\r\n            followingId: followingId\r\n          })\r\n        }\r\n        // 如果在其他 User 的 User.vue 畫面，在 delete Followship 後，要在 UserBoard 減少\"跟隨者\"的數目\r\n        if (Number(this.$route.params.id) === followingId && this.$route.name === 'user') {\r\n          this.$emit('after-delete-followship', {\r\n            situation: 'atOtherUserPage',\r\n            followerId: currentUserId\r\n          })\r\n        }\r\n\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    dataToBrotherFollowshipSection(method, situation, data) {\r\n      eventBus.$emit(\"emit-data\", {\r\n        method: method,\r\n        situation: situation,\r\n        data: data\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchRecommendedFollowings()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.followingsBar-wrapper {\r\n  position: fixed;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 350px;\r\n  height: auto;\r\n  margin-top: 15px;\r\n  padding: 17px 0px 5px;\r\n  background: #F5F8FA;\r\n  border-radius: 14px;\r\n}\r\n\r\n.followingsBar-title {\r\n  margin: 10px 0px;\r\n  margin-left: 15px;\r\n  font-weight: 700;\r\n  font-size: 18px;\r\n  line-height: 26px;\r\n  color: #1C1C1C;\r\n}\r\n\r\n.recommended-following-wrapper {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 60px;\r\n  margin-left: 15px;\r\n  padding: 10px 0px;\r\n  border-top: 1px solid #E6ECF0;\r\n}\r\n\r\n.following-info-wrapper {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.avatar-wrapper img {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n\r\n.info-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 10px;\r\n}\r\n\r\n.info-wrapper-name {\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 15px;\r\n  color: #1C1C1C;\r\n}\r\n\r\n.info-wrapper-account {\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 15px;\r\n  color: #657786;\r\n}\r\n\r\n.follow-btn-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  height: 100%;\r\n}\r\n\r\n.follow-btn-wrapper .btn {\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  right: 15px;\r\n  height: 35px;\r\n  width: 60px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  background-color: #ffffff;\r\n  border: 1px solid #FF6600;\r\n  border-radius: 100px;\r\n  color: #FF6600;\r\n}\r\n\r\n.follow-btn-wrapper .btn-isFollowed {\r\n  width: 100px;\r\n  background: #FF6600;\r\n  border: 1px solid #FF6600;\r\n  color: #ffffff;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FollowingsBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FollowingsBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowingsBar.vue?vue&type=template&id=51e6ec00&\"\nimport script from \"./FollowingsBar.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowingsBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FollowingsBar.vue?vue&type=style&index=0&id=51e6ec00&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"navbar-wrapper\"},[_c('div',{staticClass:\"navbar-top\"},[_c('div',{staticClass:\"logo-wrapper\"},[_c('router-link',{attrs:{\"to\":\"/tweets\"}},[_c('img',{attrs:{\"src\":require(\"../assets/alpha_camp_logo.png\"),\"alt\":\"\"}})])],1),_c('router-link',{staticClass:\"icon-wrapper\",attrs:{\"to\":\"/tweets\"}},[_c('img',{attrs:{\"src\":require(\"../assets/home.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"首頁\")])]),_c('router-link',{staticClass:\"icon-wrapper\",attrs:{\"to\":'/users/' + _vm.currentUser.id}},[_c('img',{attrs:{\"src\":require(\"../assets/user.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"個人資料\")])]),_c('router-link',{staticClass:\"icon-wrapper\",attrs:{\"to\":\"/setting\"}},[_c('img',{attrs:{\"src\":require(\"../assets/setting.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"設定\")])]),_c('button',{staticClass:\"btn btn-orange navbar-btn\",attrs:{\"type\":\"button\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":'#modalNewTweet',\"disabled\":_vm.isSettingPage}},[_vm._v(\"推文\")])],1),_c('div',{staticClass:\"navbar-bottom\"},[_c('div',{staticClass:\"icon-wrapper\",on:{\"click\":_vm.logout}},[_c('img',{attrs:{\"src\":require(\"../assets/logout.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"登出\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"navbar-wrapper\">\r\n    <div class=\"navbar-top\">\r\n      <div class=\"logo-wrapper\">\r\n        <router-link to=\"/tweets\">\r\n          <img src=\"../assets/alpha_camp_logo.png\" alt=\"\">\r\n        </router-link>\r\n      </div>\r\n      <router-link to=\"/tweets\" class=\"icon-wrapper\">\r\n        <img src=\"../assets/home.png\" alt=\"\">\r\n        <span>首頁</span>\r\n      </router-link>\r\n      <!-- <router-link to=\"/notices\" class=\"icon-wrapper\">\r\n        <img src=\"../assets/icon-noti-nocolor.png\" alt=\"\">\r\n        <span>通知</span>\r\n      </router-link>\r\n      <router-link to=\"/chat\" class=\"icon-wrapper\">\r\n        <img src=\"../assets/icon-messege-nocolor.png\" alt=\"\">\r\n        <span>公開聊天室</span>\r\n      </router-link>\r\n      <router-link to=\"/chat_private\" class=\"icon-wrapper\">\r\n        <img src=\"../assets/icon-messege-nocolor.png\" alt=\"\">\r\n        <span>私人聊天室</span>\r\n        <div class=\"red-spot red-spot-hidden\"></div>\r\n      </router-link> -->\r\n      <router-link v-bind:to=\"'/users/' + currentUser.id\" class=\"icon-wrapper\">\r\n        <img src=\"../assets/user.png\" alt=\"\">\r\n        <span>個人資料</span>\r\n      </router-link>\r\n      <router-link to=\"/setting\" class=\"icon-wrapper\">\r\n        <img src=\"../assets/setting.png\" alt=\"\">\r\n        <span>設定</span>\r\n      </router-link>\r\n\r\n      <!-- trigger modal -->\r\n      <button class=\"btn btn-orange navbar-btn\" type=\"button\" data-bs-toggle=\"modal\"\r\n        v-bind:data-bs-target=\"'#modalNewTweet'\" v-bind:disabled=\"isSettingPage\">推文</button>\r\n    </div>\r\n\r\n    <div class=\"navbar-bottom\">\r\n      <div class=\"icon-wrapper\" v-on:click=\"logout\">\r\n        <img src=\"../assets/logout.png\" alt=\"\">\r\n        <span>登出</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from '../utils/helpers'\r\nimport eventBus from \"../utils/eventBus\"\r\n\r\nexport default {\r\n  props: {\r\n    currentUser: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    isSettingPage: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  methods: {\r\n    logout() {\r\n      this.$store.commit('revokeAuthentication')\r\n      this.$router.push('/signin')\r\n      Toast.fire({\r\n        icon: 'success',\r\n        title: '成功登出'\r\n      })\r\n    },\r\n    getFromBrotherTest() {\r\n      eventBus.$on(\"showRedSpot\", (param) => {\r\n        const redSpot = document.querySelector('.red-spot')\r\n        redSpot.classList.remove('red-spot-hidden')\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.getFromBrotherTest()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.navbar-wrapper {\r\n  position: fixed;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: 235px;\r\n  height: 100vh;\r\n  padding: 17px 0px;\r\n}\r\n\r\n.logo-wrapper,\r\n.icon-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px 10px;\r\n  border: 1px solid #ffffff;\r\n}\r\n\r\n.logo-wrapper img {\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n\r\n.icon-wrapper {\r\n  margin-top: 35px;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n}\r\n\r\n.icon-wrapper:hover {\r\n  background-color: #f6f6f6;\r\n  border-color: #eeeeee;\r\n  border-radius: 18px;\r\n}\r\n\r\n.icon-wrapper img {\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.icon-wrapper span {\r\n  font-weight: 700;\r\n  font-size: 18px;\r\n  line-height: 26px;\r\n  color: #1C1C1C;\r\n}\r\n\r\n.navbar-btn {\r\n  margin-top: 25px;\r\n  width: 210px;\r\n  height: 38px;\r\n  border-radius: 100px;\r\n}\r\n\r\n.navbar-btn:disabled {\r\n  background-color: var(--orange);\r\n  color: var(--white);\r\n  border: 1px solid var(--orange);\r\n}\r\n\r\n/* 有新聊天訊息或通知，顯示的紅點 */\r\n.red-spot {\r\n  position: absolute;\r\n  width: 10px;\r\n  height: 10px;\r\n  background-color: firebrick;\r\n  border-radius: 50%;\r\n  transform: translate(200%, -80%);\r\n}\r\n\r\n.red-spot-hidden {\r\n  visibility: hidden;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=f518c25a&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navbar.vue?vue&type=style&index=0&id=f518c25a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from '../utils/helpers'\r\n\r\nexport default {\r\n  getRecommendedFollowings: () => {\r\n    return apiHelper.get(`/followships/recommended`)\r\n  },\r\n  // 在後端尚未完成 JWT 驗證回傳 req.user 前，用網址帶入 currentUser.id 傳給後端 req.query.userId\r\n  // getRecommendedFollowings: ({ userId }) => {\r\n  //   const searchParams = new URLSearchParams({ userId })\r\n  //   return apiHelper.get(`/followships/recommended?${searchParams.toString() }`)\r\n  // },\r\n  postFollowship: ({ formData }) => {\r\n    return apiHelper.post('/followships', formData)\r\n  },\r\n  deleteFollowship: ({ followingId }) => {\r\n    return apiHelper.delete(`/followships/${followingId}`)\r\n  }\r\n}","import { apiHelper } from '../utils/helpers'\r\n\r\nexport default {\r\n  getTweets: ({ offset }) => {\r\n    const searchParams = new URLSearchParams({ offset })\r\n    return apiHelper.get(`/tweets?${searchParams.toString()}`)\r\n  },\r\n  getTweet: ({ id }) => {\r\n    return apiHelper.get(`/tweets/${id}`)\r\n  },\r\n  postTweet: ({ formData }) => {\r\n    return apiHelper.post('/tweets', formData)\r\n  },\r\n  getTweetReplies: ({ tweetId }) => {\r\n    return apiHelper.get(`/tweets/${tweetId}/replies`)\r\n  },\r\n  postTweetReply: ({ formData, tweetId }) => {\r\n    return apiHelper.post(`/tweets/${tweetId}/replies`, formData)\r\n  },\r\n  likeTweet: ({ tweetId }) => {\r\n    return apiHelper.post(`tweets/${tweetId}/like`)\r\n  },\r\n  unlikeTweet: ({ tweetId }) => {\r\n    return apiHelper.post(`tweets/${tweetId}/unlike`)\r\n  },\r\n}","import Vue from 'vue';\r\nexport default new Vue()"],"names":["render","_vm","this","_c","_self","staticClass","_v","_l","recommendedFollowings","recommendedFollowing","attrs","id","avatar","_s","name","account","currentUser","Followings","includes","isProcessing","on","$event","deleteFollowship","postFollowship","staticRenderFns","props","type","required","data","methods","console","userId","formData","newUserFollowing","followingUser","followerId","followerUser","introduction","followingId","situation","dataToBrotherFollowshipSection","eventBus","method","created","component","require","isSettingPage","logout","default","Toast","icon","title","getFromBrotherTest","redSpot","getRecommendedFollowings","apiHelper","getTweets","offset","searchParams","URLSearchParams","toString","getTweet","postTweet","getTweetReplies","tweetId","postTweetReply","likeTweet","unlikeTweet","Vue"],"sourceRoot":""}