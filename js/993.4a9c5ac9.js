"use strict";(self["webpackChunktwitter_front_2020"]=self["webpackChunktwitter_front_2020"]||[]).push([[993],{3109:function(s,o,t){t.r(o),t.d(o,{default:function(){return y}});var r=function(){var s=this,o=s._self._c;return o("div",{staticClass:"container"},[o("div",{staticClass:"left-container"},[o("Navbar",{staticClass:"Navbar",attrs:{currentUser:s.currentUser}})],1),o("div",{staticClass:"middle-container"},[o("div",{staticClass:"middle-container-wrapper"},[o("div",{staticClass:"middle-container-arrow-wrapper"},[o("img",{attrs:{src:t(6995),type:"button",alt:""},on:{click:s.hasHistory}})]),o("div",{staticClass:"middle-container-page-title-wrapper"},[o("h1",[s._v(s._s(s.user.name))]),o("h3",[s._v(s._s(s.user.tweetsNum)+"則推文")])])]),o("FollowshipNavPills",{on:{"after-change-followship-nav-pills":s.afterChangeFollowshipNavPills}}),o("FollowshipSection",{attrs:{currentUser:s.currentUser,user:s.user,userFollowings:s.userFollowings,userFollowers:s.userFollowers,show:s.show}})],1),o("div",{staticClass:"right-container"},[o("FollowingsBar",{staticClass:"FollowingsBar",attrs:{currentUser:s.currentUser}})],1)])},l=[],i=(t(1703),t(2474)),e=t(4904),a=function(){var s=this,o=s._self._c;return o("div",{staticClass:"followship-nav-pills-wrapper"},[o("fieldset",[o("div",[o("input",{attrs:{type:"radio",id:"followship-nav-pills-followers",name:"followship-nav-pills",value:"followship-nav-pills-followers",checked:""},on:{change:s.changeFollowshipNavPills}}),o("label",{staticClass:"followship-nav-pills-link",attrs:{for:"followship-nav-pills-followers"}},[s._v("跟隨者")])]),o("div",[o("input",{attrs:{type:"radio",id:"followship-nav-pills-followings",name:"followship-nav-pills",value:"followship-nav-pills-followings"},on:{change:s.changeFollowshipNavPills}}),o("label",{staticClass:"followship-nav-pills-link",attrs:{for:"followship-nav-pills-followings"}},[s._v("正在跟隨")])])])])},n=[],w={methods:{changeFollowshipNavPills(s){this.$emit("after-change-followship-nav-pills",{value:s.target.value})}}},u=w,c=t(1001),p=(0,c.Z)(u,a,n,!1,null,null,null),h=p.exports,d=(t(6699),function(){var s=this,o=s._self._c;return o("div",["userFollowings"===s.show?o("div",[Number(this.$route.params.id)===s.currentUser.id?o("div",s._l(s.userFollowingsInData,(function(t){return o("div",{key:t.followingUser.id,staticClass:"followship-user-wrapper"},[o("div",{staticClass:"followship-user-avatar-wrapper"},[o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followingUser.id}},[o("img",{attrs:{src:t.followingUser.avatar,alt:""}})])],1),o("div",{staticClass:"followship-user-main-wrapper"},[o("div",{staticClass:"followship-user-main-wrapper-top"},[o("div",{staticClass:"followship-user-main-wrapper-top-left"},[o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followingUser.id}},[o("div",{staticClass:"followship-user-name"},[s._v(s._s(t.followingUser.name))])]),o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followingUser.id}},[o("div",{staticClass:"followship-user-account"},[s._v("@"+s._s(t.followingUser.account))])])],1),Number(t.followingUser.id)!==Number(s.currentUser.id)?o("div",{staticClass:"followship-user-main-wrapper-top-right followship-btn-wrapper"},[s.currentUser.Followings.includes(t.followingUser.id)?o("button",{staticClass:"btn btn-orange btn-isFollowed",attrs:{type:"button",disabled:s.isProcessing},on:{click:function(o){return s.deleteFollowship(t.followingUser.id)}}},[s._v("正在跟隨")]):o("button",{staticClass:"btn btn-orange",attrs:{type:"button",disabled:s.isProcessing},on:{click:function(o){return s.postFollowship(t.followingUser.id)}}},[s._v("跟隨")])]):s._e()]),o("div",{staticClass:"followship-user-main-wrapper-bottom"},[o("div",{staticClass:"followship-user-main-wrapper-introduction"},[s._v(s._s(t.followingUser.introduction)+" ")])])])])})),0):o("div",s._l(s.userFollowings,(function(t){return o("div",{key:t.followingUser.id,staticClass:"followship-user-wrapper"},[o("div",{staticClass:"followship-user-avatar-wrapper"},[o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followingUser.id}},[o("img",{attrs:{src:t.followingUser.avatar,alt:""}})])],1),o("div",{staticClass:"followship-user-main-wrapper"},[o("div",{staticClass:"followship-user-main-wrapper-top"},[o("div",{staticClass:"followship-user-main-wrapper-top-left"},[o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followingUser.id}},[o("div",{staticClass:"followship-user-name"},[s._v(s._s(t.followingUser.name))])]),o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followingUser.id}},[o("div",{staticClass:"followship-user-account"},[s._v("@"+s._s(t.followingUser.account))])])],1),Number(t.followingUser.id)!==Number(s.currentUser.id)?o("div",{staticClass:"followship-user-main-wrapper-top-right followship-btn-wrapper"},[s.currentUser.Followings.includes(t.followingUser.id)?o("button",{staticClass:"btn btn-orange btn-isFollowed",attrs:{type:"button",disabled:s.isProcessing},on:{click:function(o){return s.deleteFollowship(t.followingUser.id)}}},[s._v("正在跟隨")]):o("button",{staticClass:"btn btn-orange",attrs:{type:"button",disabled:s.isProcessing},on:{click:function(o){return s.postFollowship(t.followingUser.id)}}},[s._v("跟隨")])]):s._e()]),o("div",{staticClass:"followship-user-main-wrapper-bottom"},[o("div",{staticClass:"followship-user-main-wrapper-introduction"},[s._v(s._s(t.followingUser.introduction)+" ")])])])])})),0)]):o("div",[Number(this.$route.params.id)===s.currentUser.id?o("div",s._l(s.userFollowers,(function(t){return o("div",{key:t.followerUser.id,staticClass:"followship-user-wrapper"},[o("div",{staticClass:"followship-user-avatar-wrapper"},[o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followerUser.id}},[o("img",{attrs:{src:t.followerUser.avatar,alt:""}})])],1),o("div",{staticClass:"followship-user-main-wrapper"},[o("div",{staticClass:"followship-user-main-wrapper-top"},[o("div",{staticClass:"followship-user-main-wrapper-top-left"},[o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followerUser.id}},[o("div",{staticClass:"followship-user-name"},[s._v(s._s(t.followerUser.name))])]),o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followerUser.id}},[o("div",{staticClass:"followship-user-account"},[s._v("@"+s._s(t.followerUser.account))])])],1),Number(t.followerUser.id)!==Number(s.currentUser.id)?o("div",{staticClass:"followship-user-main-wrapper-top-right followship-btn-wrapper"},[s.currentUser.Followings.includes(t.followerUser.id)?o("button",{staticClass:"btn btn-orange btn-isFollowed",attrs:{type:"button",disabled:s.isProcessing},on:{click:function(o){return s.deleteFollowship(t.followerUser.id)}}},[s._v("正在跟隨")]):o("button",{staticClass:"btn btn-orange",attrs:{type:"button",disabled:s.isProcessing},on:{click:function(o){return s.postFollowship(t.followerUser.id)}}},[s._v("跟隨")])]):s._e()]),o("div",{staticClass:"followship-user-main-wrapper-bottom"},[o("div",{staticClass:"followship-user-main-wrapper-introduction"},[s._v(s._s(t.followerUser.introduction))])])])])})),0):o("div",s._l(s.userFollowersInData,(function(t){return o("div",{key:t.followerUser.id,staticClass:"followship-user-wrapper"},[o("div",{staticClass:"followship-user-avatar-wrapper"},[o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followerUser.id}},[o("img",{attrs:{src:t.followerUser.avatar,alt:""}})])],1),o("div",{staticClass:"followship-user-main-wrapper"},[o("div",{staticClass:"followship-user-main-wrapper-top"},[o("div",{staticClass:"followship-user-main-wrapper-top-left"},[o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followerUser.id}},[o("div",{staticClass:"followship-user-name"},[s._v(s._s(t.followerUser.name))])]),o("router-link",{staticClass:"link",attrs:{to:"/users/"+t.followerUser.id}},[o("div",{staticClass:"followship-user-account"},[s._v("@"+s._s(t.followerUser.account))])])],1),Number(t.followerUser.id)!==Number(s.currentUser.id)?o("div",{staticClass:"followship-user-main-wrapper-top-right followship-btn-wrapper"},[s.currentUser.Followings.includes(t.followerUser.id)?o("button",{staticClass:"btn btn-orange btn-isFollowed",attrs:{type:"button",disabled:s.isProcessing},on:{click:function(o){return s.deleteFollowship(t.followerUser.id)}}},[s._v("正在跟隨")]):o("button",{staticClass:"btn btn-orange",attrs:{type:"button",disabled:s.isProcessing},on:{click:function(o){return s.postFollowship(t.followerUser.id)}}},[s._v("跟隨")])]):s._e()]),o("div",{staticClass:"followship-user-main-wrapper-bottom"},[o("div",{staticClass:"followship-user-main-wrapper-introduction"},[s._v(s._s(t.followerUser.introduction))])])])])})),0)])])}),f=[],g=t(2433),A=t(4003),U={props:{user:{type:Object,required:!0},userFollowings:{type:Array},userFollowers:{type:Array},show:{type:String},currentUser:{type:Object,required:!0}},data(){return{isProcessing:!1,userFollowingIds:[],userFollowingsInData:[],userFollowersInData:[]}},methods:{async postFollowship(s){try{this.isProcessing=!0;const o=this.currentUser.id,t={userId:o,id:s},{data:r}=await g.Z.postFollowship({formData:t});if("success"!==r.status)throw new Error(r.message);if(this.currentUser.Followings.push(s),Number(this.$route.params.id)===this.currentUser.id&&"userFollowers"===this.show){let o={};this.userFollowers.forEach((t=>{t.followerUser.id===s&&(o={followingUser:{...t.followerUser}})}));let t=!1;this.userFollowingsInData.forEach((s=>{s.followingUser.id===o.followingUser.id&&(t=!0)})),t||this.userFollowingsInData.unshift(o)}this.isProcessing=!1}catch(o){this.isProcessing=!1,console.warn(o)}},async deleteFollowship(s){try{this.isProcessing=!0;const{data:o}=await g.Z.deleteFollowship({followingId:s});if("success"!==o.status)throw new Error(o.message);if(this.currentUser.Followings=this.currentUser.Followings.map((o=>{if(o!==s)return o})),Number(this.$route.params.id)===this.currentUser.id&&"userFollowers"===this.show){const o=[];this.userFollowings.forEach((t=>{t.followingUser.id!==s&&o.push(t)})),this.userFollowingsInData=o}this.isProcessing=!1}catch(o){this.isProcessing=!1,console.warn(o)}},getFromBrotherFollowingBar(){A.Z.$on("emit-data",(s=>{if("post"===s.method&&"atCurrentUserPage"===s.situation){let o={...s.data},t=!1;this.userFollowingsInData.forEach((s=>{s.followingUser.id===o.followingUser.id&&(t=!0)})),t||this.userFollowingsInData.unshift(o)}if("post"===s.method&&"atOtherUserPage"===s.situation){let o={...s.data},t=!1;this.userFollowers.forEach((s=>{s.followerUser.id===o.followerUser.id&&(t=!0)})),t||this.userFollowers.unshift(o)}if("delete"===s.method&&"atOtherUserPage"===s.situation){let o={...s.data};const t=[];this.userFollowersInData.forEach((s=>{s.followerUser.id!==o.followerId&&t.push(s)})),this.userFollowers=t,this.userFollowersInData=t}}))}},watch:{userFollowings(s){this.userFollowingIds=s.map((s=>s.followingUser.id)),Number(this.$route.params.id)===this.currentUser.id&&(this.userFollowingsInData=s.map((s=>s)))},userFollowers(s){Number(this.$route.params.id)!==this.currentUser.id&&(this.userFollowersInData=s.map((s=>s)))}},created:function(){this.getFromBrotherFollowingBar()}},v=U,m=(0,c.Z)(v,d,f,!1,null,null,null),F=m.exports,C=t(2103),b=(t(3729),t(3822)),k=t(6163),I={components:{Navbar:i.Z,FollowingsBar:e.Z,FollowshipNavPills:h,FollowshipSection:F},data(){return{user:{},userFollowings:[],userFollowers:[],show:"userFollowers"}},methods:{async fetchUser(s){try{const o=await C.Z.getUser({userId:s});if(200!==o.status)throw new Error;const t=o.data;this.user={...t}}catch(o){console.warn(o),k.F.fire({icon:"error",title:"找不到該位 User",timer:2e3}),this.$router.push({name:"not-found"}),setTimeout((()=>{this.$router.go(-2)}),1e3)}},async fetchUserFollowings(s){try{const o=await C.Z.getUserFollowings({userId:s}),t=o.data;this.userFollowings=t}catch(o){console.warn(o)}},async fetchUserFollowers(s){try{const o=await C.Z.getUserFollowers({userId:s}),t=o.data;this.userFollowers=t}catch(o){console.warn(o)}},afterChangeFollowshipNavPills(s){"followship-nav-pills-followings"===s.value?this.show="userFollowings":"followship-nav-pills-followers"===s.value&&(this.show="userFollowers")},hasHistory(){this.$router.go(-1)}},computed:{...(0,b.rn)(["currentUser"])},mounted(){const s=Number(this.$route.params.id);this.fetchUser(s),this.fetchUserFollowings(s),this.fetchUserFollowers(s)},beforeRouteUpdate(s,o,t){const r=Number(s.params.id);this.fetchUser(r),this.fetchUserFollowings(r),this.fetchUserFollowers(r),t()}},B=I,P=(0,c.Z)(B,r,l,!1,null,null,null),y=P.exports},934:function(s){s.exports="data:image/png;base64,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"},6995:function(s){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB6SURBVHgB7ZfBCYAwDEW/TuAIbtZsnhHaDTSBCir1oEJy+Q9e6fFBCqHAe8SsppoFSYi5naxIQG4RriIYGUS4oaMRRjCCEYz4GBGlmmXqlxW5tNmOBfk0PwS5o/ENXo6ip5jQx8oYxjCGMZkxKf+aUYwiEekBlx3xlx0JyMM9ap/GrgAAAABJRU5ErkJggg=="},6645:function(s){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGQSURBVHgB7ZnhbYMwEIWfOgEjMEI3CBskG+Q2ohswUrqBuwHdoLUVIiHs4Dt8F7mVP+n9QDK+ez6wjQEajUajdgav0ct5/RTq5jV59XgBndcHypN+pnGJYZb8DTBLfl0RExOWI5+qhCp9IojzOqF8tM5Iv0sDFJkQJ69Z5g6xCdUqbJ/9M/QZEA+SGtvyWtBZxintmLxm3Ef1Crs4Jh3T5t7ZKM4uRzsmpGevZ8zMdmKOGCCk5/hr5p6Q+JxpJ0ZqgCBP3hSJAUJlyQN8A4QKkwd4BgiVJh/IGSDINmtacmAOUM6AM050T9G68gY5Zh8hDL45jWp9hNjrRc7AnglWAGs4BgKESk1wDQQIFZqQGAgQKjMhNRAgyE2EezjfDWKOGHgklJ23VzhmOzFHDQQI8eppEWeX0o4JvH3+ywxYrbwqBlJbia/N9Tv0uWyuP6FIOGTaPsfWB1sTFBkQlzcEvKCMbunbJfrvocyI45suqdQPdwN//nj9YcKyEqY/ONb0uL9kGhVxS+InNBqNxr/gFz/XF5F/ycITAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=993.4a9c5ac9.js.map