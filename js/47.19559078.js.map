{"version":3,"file":"js/47.19559078.js","mappings":"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","sources":["webpack://twitter-front-2020/./src/components/RepliesSection.vue","webpack://twitter-front-2020/src/components/RepliesSection.vue","webpack://twitter-front-2020/./src/components/RepliesSection.vue?211a","webpack://twitter-front-2020/./src/components/RepliesSection.vue?22af","webpack://twitter-front-2020/./src/components/TweetsSection.vue","webpack://twitter-front-2020/src/components/TweetsSection.vue","webpack://twitter-front-2020/./src/components/TweetsSection.vue?5567","webpack://twitter-front-2020/./src/components/TweetsSection.vue?4e50","webpack://twitter-front-2020/./src/views/User.vue","webpack://twitter-front-2020/./src/components/UserBoard.vue","webpack://twitter-front-2020/./src/components/ModalUserInfo.vue","webpack://twitter-front-2020/src/components/ModalUserInfo.vue","webpack://twitter-front-2020/./src/components/ModalUserInfo.vue?c134","webpack://twitter-front-2020/./src/components/ModalUserInfo.vue?176b","webpack://twitter-front-2020/./src/api/notify.js","webpack://twitter-front-2020/src/components/UserBoard.vue","webpack://twitter-front-2020/./src/components/UserBoard.vue?10c3","webpack://twitter-front-2020/./src/components/UserBoard.vue?100b","webpack://twitter-front-2020/./src/components/UserNavPills.vue","webpack://twitter-front-2020/src/components/UserNavPills.vue","webpack://twitter-front-2020/./src/components/UserNavPills.vue?5fcd","webpack://twitter-front-2020/./src/components/UserNavPills.vue?eeaa","webpack://twitter-front-2020/./src/components/LikesSection.vue","webpack://twitter-front-2020/./src/components/ModalTweetReplyLikesSection.vue","webpack://twitter-front-2020/src/components/ModalTweetReplyLikesSection.vue","webpack://twitter-front-2020/./src/components/ModalTweetReplyLikesSection.vue?c823","webpack://twitter-front-2020/./src/components/ModalTweetReplyLikesSection.vue?826e","webpack://twitter-front-2020/src/components/LikesSection.vue","webpack://twitter-front-2020/./src/components/LikesSection.vue?df03","webpack://twitter-front-2020/./src/components/LikesSection.vue?df4a","webpack://twitter-front-2020/src/views/User.vue","webpack://twitter-front-2020/./src/views/User.vue?ac75","webpack://twitter-front-2020/./src/views/User.vue?898b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],attrs:{\"infinite-scroll-disabled\":\"busy\"}},_vm._l((_vm.replies),function(reply){return _c('div',{key:'reply' + reply.id,staticClass:\"reply-wrapper\"},[_c('div',{staticClass:\"reply-wrapper-left\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + reply.User.id}},[_c('img',{attrs:{\"src\":reply.User.avatar,\"alt\":\"\"}})])],1),_c('div',{staticClass:\"reply-wrapper-right\"},[_c('div',{staticClass:\"reply-info\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + reply.User.id}},[_c('div',{staticClass:\"reply-info-name\"},[_vm._v(\" \"+_vm._s(reply.User.name)+\" \")])]),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + reply.User.id}},[_c('div',{staticClass:\"reply-info-account\"},[_vm._v(\"@\"+_vm._s(reply.User.account)+\" \")])]),_c('div',{staticClass:\"reply-info-data\"},[_vm._v(\"・\"+_vm._s(_vm._f(\"fromNow\")(reply.createdAt)))])],1),_c('div',{staticClass:\"reply-to\"},[_vm._v(\" 回覆給 \"),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + reply.Tweet.User.id}},[_c('p',[_vm._v(\"@\"+_vm._s(reply.Tweet.User.account))])])],1),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/tweets/' + reply.Tweet.id}},[_c('div',{staticClass:\"reply-description\"},[_vm._v(\" \"+_vm._s(reply.comment)+\" \")])])],1)])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"busy\">\r\n    <div v-for=\"reply in replies\" v-bind:key=\"'reply' + reply.id\" class=\"reply-wrapper\">\r\n      <div class=\"reply-wrapper-left\">\r\n        <router-link class=\"link\" v-bind:to=\"'/users/' + reply.User.id\">\r\n          <img v-bind:src=\"reply.User.avatar\" alt=\"\">\r\n        </router-link>\r\n      </div>\r\n      <div class=\"reply-wrapper-right\">\r\n        <div class=\"reply-info\">\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + reply.User.id\">\r\n            <div class=\"reply-info-name\"> {{ reply.User.name }} </div>\r\n          </router-link>\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + reply.User.id\">\r\n            <div class=\"reply-info-account\">@{{ reply.User.account }} </div>\r\n          </router-link>\r\n          <div class=\"reply-info-data\">・{{ reply.createdAt | fromNow }}</div>\r\n        </div>\r\n        <div class=\"reply-to\">\r\n          回覆給\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + reply.Tweet.User.id\">\r\n            <p>@{{ reply.Tweet.User.account }}</p>\r\n          </router-link>\r\n        </div>\r\n        <router-link class=\"link\" v-bind:to=\"'/tweets/' + reply.Tweet.id\">\r\n          <div class=\"reply-description\">\r\n            {{ reply.comment }}\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { fromNowFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  props: {\r\n    replies: {\r\n      type: Array,\r\n    },\r\n    loadMoreTrigger: {\r\n      type: String\r\n    },\r\n    loadToEnd: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  methods: {\r\n    loadMore() {\r\n      if (this.loadMoreTrigger !== 'replies' || this.loadToEnd === true) {\r\n        return\r\n      }\r\n      this.busy = true\r\n      // 設定至少 1.5 秒後才可以再 trigger 一次\r\n      this.$emit('load-more', {\r\n        'from': 'repliesSection'\r\n      })\r\n      setTimeout(() => {\r\n        this.busy = false\r\n      }, 1500)\r\n    }\r\n  },\r\n  mixins: [fromNowFilter]\r\n}\r\n</script>\r\n\r\n<style>\r\n.reply-wrapper {\r\n  display: flex;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #E6ECF0;\r\n}\r\n\r\n.reply-wrapper-left img {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n\r\n.reply-wrapper-right {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 10px;\r\n}\r\n\r\n.reply-info {\r\n  display: flex;\r\n}\r\n\r\n.reply-info-name {\r\n  margin-right: 5px;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #1C1C1C;\r\n}\r\n\r\n.reply-info-account,\r\n.reply-info-data {\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #657786;\r\n}\r\n\r\n.reply-to {\r\n  display: flex;\r\n  margin-top: 4px;\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #657786;\r\n}\r\n\r\n.reply-to p {\r\n  margin: 0px;\r\n  margin-left: 2px;\r\n  color: #FF6600;\r\n}\r\n\r\n.reply-description {\r\n  margin-top: 6px;\r\n  font-weight: 400;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #1C1C1C;\r\n  word-break: break-all\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RepliesSection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RepliesSection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RepliesSection.vue?vue&type=template&id=7ebc799f&\"\nimport script from \"./RepliesSection.vue?vue&type=script&lang=js&\"\nexport * from \"./RepliesSection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RepliesSection.vue?vue&type=style&index=0&id=7ebc799f&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],attrs:{\"infinite-scroll-disabled\":\"busy\"}},_vm._l((_vm.tweets),function(tweet){return _c('div',{key:tweet.id,staticClass:\"tweet-wrapper\"},[_c('div',{staticClass:\"tweet-wrapper-left\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + tweet.User.id}},[_c('img',{attrs:{\"src\":tweet.User.avatar,\"alt\":\"\"}})])],1),_c('div',{staticClass:\"tweet-wrapper-right\"},[_c('div',{staticClass:\"tweet-info\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + tweet.User.id}},[_c('div',{staticClass:\"tweet-info-name\"},[_vm._v(_vm._s(tweet.User.name))])]),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + tweet.User.id}},[_c('div',{staticClass:\"tweet-info-account\"},[_vm._v(\" @\"+_vm._s(tweet.User.account))])]),_c('div',{staticClass:\"tweet-info-data\"},[_vm._v(\"・\"+_vm._s(_vm._f(\"fromNow\")(tweet.createdAt)))])],1),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/tweets/' + tweet.id}},[_c('div',{staticClass:\"tweet-description\"},[_vm._v(\" \"+_vm._s(tweet.description)+\" \")])]),_c('div',{staticClass:\"tweet-interaction\"},[_c('div',[_c('img',{attrs:{\"src\":require(\"../assets/icon-reply.png\"),\"alt\":\"\",\"type\":\"button\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":'#modal' + tweet.id}}),_c('p',[_vm._v(_vm._s(tweet.repliesLength))])]),(_vm.currentUser.userLikesId.includes(tweet.id))?_c('div',[_c('img',{attrs:{\"src\":require(\"../assets/icon-isLiked.png\"),\"type\":\"button\",\"alt\":\"\"},on:{\"click\":function($event){return _vm.unlikeTweet(tweet.id)}}}),_c('p',[_vm._v(_vm._s(tweet.likesLength))])]):_c('div',[_c('img',{attrs:{\"src\":require(\"../assets/icon-like.png\"),\"type\":\"button\",\"alt\":\"\"},on:{\"click\":function($event){return _vm.likeTweet(tweet.id)}}}),_c('p',[_vm._v(_vm._s(tweet.likesLength))])])])],1),_c('ModalTweetReply',{attrs:{\"tweet\":tweet,\"currentUser\":_vm.currentUser},on:{\"after-post-tweet-reply\":_vm.afterPostTweetReply}})],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"busy\">\r\n    <div v-for=\"tweet in tweets\" :key=\"tweet.id\" class=\"tweet-wrapper\">\r\n      <div class=\"tweet-wrapper-left\">\r\n        <router-link class=\"link\" v-bind:to=\"'/users/' + tweet.User.id\">\r\n          <img v-bind:src=\"tweet.User.avatar\" alt=\"\">\r\n        </router-link>\r\n      </div>\r\n      <div class=\"tweet-wrapper-right\">\r\n        <div class=\"tweet-info\">\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + tweet.User.id\">\r\n            <div class=\"tweet-info-name\">{{ tweet.User.name }}</div>\r\n          </router-link>\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + tweet.User.id\">\r\n            <div class=\"tweet-info-account\"> @{{ tweet.User.account }}</div>\r\n          </router-link>\r\n          <div class=\"tweet-info-data\">・{{ tweet.createdAt | fromNow }}</div>\r\n        </div>\r\n        <router-link class=\"link\" v-bind:to=\"'/tweets/' + tweet.id\">\r\n          <div class=\"tweet-description\">\r\n            {{ tweet.description }}\r\n          </div>\r\n        </router-link>\r\n        <div class=\"tweet-interaction\">\r\n          <div>\r\n            <!-- trigger modal -->\r\n            <img src=\"../assets/icon-reply.png\" alt=\"\" type=\"button\" data-bs-toggle=\"modal\"\r\n              v-bind:data-bs-target=\"'#modal' + tweet.id\">\r\n            <p>{{ tweet.repliesLength }}</p>\r\n          </div>\r\n          <div v-if=\"currentUser.userLikesId.includes(tweet.id)\">\r\n            <img src=\"../assets/icon-isLiked.png\" type=\"button\" alt=\"\" v-on:click=\"unlikeTweet(tweet.id)\">\r\n            <p>{{ tweet.likesLength }}</p>\r\n          </div>\r\n          <div v-else>\r\n            <img src=\"../assets/icon-like.png\" type=\"button\" alt=\"\" v-on:click=\"likeTweet(tweet.id)\">\r\n            <p>{{ tweet.likesLength }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <ModalTweetReply v-bind:tweet=\"tweet\" v-on:after-post-tweet-reply=\"afterPostTweetReply\"\r\n        v-bind:currentUser=\"currentUser\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { fromNowFilter } from '../utils/mixins'\r\nimport ModalTweetReply from './ModalTweetReply.vue'\r\nimport { mapState } from 'vuex'\r\nimport tweetsAPI from '../api/tweets'\r\n\r\nexport default {\r\n  components: {\r\n    ModalTweetReply\r\n  },\r\n  props: {\r\n    propsTweets: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    loadMoreTrigger: {\r\n      type: String\r\n    },\r\n    loadToEnd: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      tweets: [],\r\n      busy: false\r\n    }\r\n  },\r\n  methods: {\r\n    afterPostTweetReply(payload) {\r\n      const { TweetId } = payload\r\n      this.tweets.forEach(tweet => {\r\n        if (tweet.id === Number(TweetId)) {\r\n          tweet.repliesLength += 1\r\n        }\r\n      })\r\n      // 在自己的 User.vue，在 post reply 後，要在自己的 RepliesSection unshift 該則新回覆；在別人的 User.vue 則不用\r\n      if (this.$router.history.current.name === 'user' && Number(this.$router.history.current.params.id) === this.currentUser.id) {\r\n        this.$emit('after-post-tweet-reply', {\r\n          ...payload,\r\n        })\r\n      }\r\n    },\r\n    async likeTweet(tweetId) {\r\n      try {\r\n        this.isProcessing = true\r\n        let likesLength = 0\r\n        // 向後端 post likeTweet\r\n        const { data } = await tweetsAPI.likeTweet({ tweetId })\r\n        if (data.status === 'success') {\r\n          // tweet 的愛心icon 亮起\r\n          this.currentUser.userLikesId.push(tweetId)\r\n          // tweet 的喜歡次數 + 1\r\n          this.tweets.forEach(tweet => {\r\n            if (tweet.id === tweetId) {\r\n              tweet.likesLength += 1\r\n              likesLength = tweet.likesLength\r\n            }\r\n          })\r\n        }\r\n        // 在自己的 User.vue，在 post like 後，要在自己的 LikeSection unshift 該則 tweet；在別人的 User.vue 則不用\r\n        if (this.$route.name === 'user' && Number(this.$route.params.id) === this.currentUser.id) {\r\n          // 取得該則被喜歡的 tweet\r\n          let newLikedTweet = {}\r\n          this.tweets.forEach(tweet => {\r\n            if (tweet.id === tweetId) {\r\n              newLikedTweet = {\r\n                ...tweet,\r\n              }\r\n            }\r\n          })\r\n          // 將被喜歡的 tweet，以及 tweet 的喜歡次數(likesLength)，傳給父層再處理\r\n          this.$emit('after-like-tweet', {\r\n            newLikedTweet: {\r\n              ...newLikedTweet\r\n            },\r\n            likesLength: likesLength,\r\n            from: 'TweetsSection',\r\n          })\r\n        }\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    async unlikeTweet(tweetId) {\r\n      try {\r\n        this.isProcessing = true\r\n        let likesLength = 0\r\n        // 向後端 post unlikeTweet\r\n        const { data } = await tweetsAPI.unlikeTweet({ tweetId })\r\n        if (data.status === 'success') {\r\n          // tweet 的愛心icon 熄滅\r\n          this.currentUser.userLikesId = this.currentUser.userLikesId.map(userLikeId => {\r\n            if (userLikeId !== tweetId) {\r\n              return userLikeId\r\n            }\r\n          })\r\n          // tweet 的喜歡次數 - 1\r\n          this.tweets.forEach(tweet => {\r\n            if (tweet.id === tweetId) {\r\n              tweet.likesLength -= 1\r\n              likesLength = tweet.likesLength\r\n            }\r\n          })\r\n        }\r\n        // 在自己的 User.vue，在 post unlike 後，要在自己的 LikeSection remove 該則 tweet；在別人的 User.vue 則不用\r\n        if (this.$route.name === 'user' && Number(this.$route.params.id) === this.currentUser.id) {\r\n          // 將被 unlike 的 tweet id，以及 tweet 的喜歡次數(likesLength)，傳給父層再處理\r\n          this.$emit('after-unlike-tweet', {\r\n            unlikeTweetId: tweetId,\r\n            likesLength: likesLength,\r\n            from: 'TweetsSection'\r\n          })\r\n        }\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    loadMore() {\r\n      if (this.loadMoreTrigger !== 'tweets' || this.loadToEnd === true) {\r\n        return\r\n      }\r\n      this.busy = true\r\n      // 設定至少 1.5 秒後才可以再 trigger 一次\r\n      this.$emit('load-more', {\r\n        'from': 'tweetsSection'\r\n      })\r\n      setTimeout(() => {\r\n        this.busy = false\r\n      }, 1500)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n  watch: {\r\n    propsTweets(newValue) {\r\n      this.tweets = newValue\r\n    }\r\n  },\r\n  mixins: [fromNowFilter],\r\n}\r\n</script>\r\n\r\n<style>\r\n.tweet-wrapper {\r\n  display: flex;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #E6ECF0;\r\n}\r\n\r\n.tweet-wrapper-left img {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n\r\n.tweet-wrapper-right {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  margin-left: 10px;\r\n}\r\n\r\n.tweet-info,\r\n.tweet-interaction {\r\n  display: flex;\r\n}\r\n\r\n.tweet-info-name {\r\n  margin-right: 5px;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #1C1C1C;\r\n}\r\n\r\n.tweet-info-account,\r\n.tweet-info-data {\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #657786;\r\n}\r\n\r\n.tweet-description {\r\n  margin-top: 6px;\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #1C1C1C;\r\n  word-break: break-all;\r\n}\r\n\r\n.tweet-interaction {\r\n  margin-top: 14px;\r\n  font-weight: 500;\r\n  font-size: 13px;\r\n  line-height: 13px;\r\n  color: #657786;\r\n}\r\n\r\n.tweet-interaction div {\r\n  display: flex;\r\n  margin-right: 50px;\r\n}\r\n\r\n.tweet-interaction div img {\r\n  width: 12px;\r\n  height: 12px;\r\n}\r\n\r\n.tweet-interaction div p {\r\n  margin: 0px;\r\n  margin-left: 12px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TweetsSection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TweetsSection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetsSection.vue?vue&type=template&id=3b73e3fd&\"\nimport script from \"./TweetsSection.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetsSection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetsSection.vue?vue&type=style&index=0&id=3b73e3fd&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"left-container\"},[_c('Navbar',{staticClass:\"Navbar\",attrs:{\"currentUser\":_vm.currentUser}})],1),_c('div',{staticClass:\"middle-container\"},[_c('div',{staticClass:\"middle-container-wrapper\"},[_c('div',{staticClass:\"middle-container-arrow-wrapper\"},[_c('img',{attrs:{\"src\":require(\"../assets/arrow-left.png\"),\"type\":\"button\",\"alt\":\"\"},on:{\"click\":_vm.hasHistory}})]),_c('div',{staticClass:\"middle-container-page-title-wrapper\"},[_c('h1',[_vm._v(_vm._s(_vm.user.name))]),_c('h3',[_vm._v(_vm._s(_vm.user.tweetsNum)+\"則推文\")])])]),_c('UserBoard',{attrs:{\"propsUser\":_vm.user,\"currentUser\":_vm.currentUser},on:{\"after-put-userInfo\":_vm.afterPutUserInfo,\"after-post-followship\":_vm.afterPostFollowship,\"after-delete-followship\":_vm.afterDeleteFollowship}}),_c('UserNavPills',{on:{\"after-change-user-nav-pills\":_vm.afterChangeUserNavPills}}),_c('TweetsSection',{staticClass:\"User-TweetsSection\",attrs:{\"propsTweets\":_vm.tweets,\"loadMoreTrigger\":_vm.loadMoreTrigger,\"loadToEnd\":_vm.loadToEndTweets},on:{\"after-post-tweet-reply\":_vm.afterPostTweetReply,\"after-like-tweet\":_vm.afterLikeTweet,\"after-unlike-tweet\":_vm.afterUnlikeTweet,\"load-more\":_vm.loadMore}}),_c('RepliesSection',{staticClass:\"User-RepliesSection User-Section-hidden\",attrs:{\"replies\":_vm.replies,\"loadMoreTrigger\":_vm.loadMoreTrigger,\"loadToEnd\":_vm.loadToEndReplies},on:{\"load-more\":_vm.loadMore}}),_c('LikesSection',{staticClass:\"User-LikesSection User-Section-hidden\",attrs:{\"prosLikes\":_vm.likes,\"loadMoreTrigger\":_vm.loadMoreTrigger,\"loadToEnd\":_vm.loadToEndLikes},on:{\"after-post-tweet-reply\":_vm.afterPostTweetReply,\"after-like-tweet\":_vm.afterLikeTweet,\"after-unlike-tweet\":_vm.afterUnlikeTweet,\"load-more\":_vm.loadMore}}),_c('ModalNewTweet',{attrs:{\"currentUser\":_vm.currentUser},on:{\"after-post-new-tweet\":_vm.afterPostNewTweet}})],1),_c('div',{staticClass:\"right-container\"},[_c('FollowingsBar',{staticClass:\"FollowingsBar\",attrs:{\"currentUser\":_vm.currentUser},on:{\"after-post-followship\":_vm.afterPostFollowship,\"after-delete-followship\":_vm.afterDeleteFollowship}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-board-wrapper\"},[_c('div',{staticClass:\"user-banner-wrapper\"},[_c('img',{attrs:{\"src\":_vm.user.banner,\"alt\":\"\"}})]),_c('div',{staticClass:\"user-avatar-wrapper\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + _vm.user.id}},[_c('img',{attrs:{\"src\":_vm.user.avatar,\"alt\":\"\"}})])],1),(_vm.user.id === _vm.currentUser.id)?_c('button',{staticClass:\"btn btn-user-info\",attrs:{\"type\":\"button\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":'#modalUserInfo'}},[_vm._v(\"編輯個人資料\")]):_c('div',{staticClass:\"user-interaction-wrapper\"},[(!_vm.currentUser.Followings.includes(_vm.user.id))?_c('button',{staticClass:\"user-interaction-wrapper-item btn btn-orange\",attrs:{\"type\":\"button\",\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.postFollowship(_vm.user.id)}}},[_vm._v(\"跟隨\")]):_c('button',{staticClass:\"user-interaction-wrapper-item btn btn-orange btn-isFollowed\",attrs:{\"type\":\"button\",\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.deleteFollowship(_vm.user.id)}}},[_vm._v(\"正在跟隨\")])]),_c('div',{staticClass:\"user-info-wrapper\"},[_c('div',{staticClass:\"user-info-name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('div',{staticClass:\"user-info-account\"},[_vm._v(\"@\"+_vm._s(_vm.user.account))]),_c('div',{staticClass:\"user-info-introduction\"},[_vm._v(_vm._s(_vm.user.introduction))]),_c('div',{staticClass:\"user-info-followship-wrapper\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{ name: 'userFollowship', params: { id: _vm.user.id }, query: { show: 'userFollowings' } }}},[_c('div',{staticClass:\"user-info-followship-followings\"},[_vm._v(_vm._s(_vm.propsUser.Followings ? _vm.propsUser.Followings.length : 0)+\"個 \"),_c('p',[_vm._v(\"跟隨中\")])])]),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + _vm.user.id + '/followship'}},[_c('div',{staticClass:\"user-info-followship-followers\"},[_vm._v(_vm._s(_vm.propsUser.Followers ? _vm.propsUser.Followers.length : 0)+\"位\"),_c('p',[_vm._v(\" 跟隨者\")])])])],1)]),_c('ModalUserInfo',{attrs:{\"propsUser\":_vm.currentUser},on:{\"after-put-userInfo\":_vm.afterPutUserInfo}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":'modalUserInfo',\"tabindex\":\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"user-info-modal-header\"},[_c('div',{staticClass:\"user-info-modal-header-left-wrapper\"},[_c('img',{attrs:{\"src\":require(\"../assets/icon-close.png\"),\"alt\":\"\",\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{\"click\":_vm.cancelEdit}}),_c('div',[_vm._v(\"編輯個人檔案\")])]),_c('div',{staticClass:\"user-info-modal-header-right-wrapper\"},[_c('button',{staticClass:\"btn btn-user-info-modal\",attrs:{\"type\":\"button\",\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit.apply(null, arguments)}}},[_vm._v(\"儲存\")])])]),_c('div',{staticClass:\"user-info-modal-body\"},[_c('form',{staticClass:\"user-info-form\"},[_c('div',{staticClass:\"user-info-form-banner-wrapper\"},[_c('img',{attrs:{\"src\":_vm.userNewInfo.banner,\"alt\":\"\",\"type\":\"file\",\"accept\":\"image/*\"}}),_c('div',[_vm._m(0),_c('img',{staticClass:\"user-info-icon\",attrs:{\"type\":\"button\",\"src\":require(\"../assets/icon-close(white).png\"),\"alt\":\"\"},on:{\"click\":_vm.removeBanner}})])]),_c('div',{staticClass:\"user-info-form-avatar-wrapper\"},[_c('img',{attrs:{\"src\":_vm.userNewInfo.avatar,\"alt\":\"\"}}),_vm._m(1)]),_c('div',{staticClass:\"form-row mb-3 user-info-form-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userNewInfo.name),expression:\"userNewInfo.name\"}],staticClass:\"form-control\",staticStyle:{\"background-color\":\"#F5F8FA\"},attrs:{\"type\":\"text\",\"maxlength\":\"20\",\"placeholder\":\"名稱\",\"required\":\"\"},domProps:{\"value\":(_vm.userNewInfo.name)},on:{\"keyup\":_vm.words_deal,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userNewInfo, \"name\", $event.target.value)}}}),_vm._m(2)]),_c('div',{staticClass:\"form-row mb-3 user-info-form-row\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userNewInfo.introduction),expression:\"userNewInfo.introduction\"}],attrs:{\"cols\":\"30\",\"rows\":\"5\",\"maxlength\":\"140\",\"placeholder\":\"自我介紹\"},domProps:{\"value\":(_vm.userNewInfo.introduction)},on:{\"keyup\":_vm.words_deal,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.userNewInfo, \"introduction\", $event.target.value)}}}),_vm._m(3)])])])])]),_c('input',{attrs:{\"id\":\"userNewBanner\",\"type\":\"file\",\"accept\":\"image/*\",\"name\":\"userNewBanner\"},on:{\"change\":_vm.handleFileChange}}),_c('input',{attrs:{\"id\":\"userNewAvatar\",\"type\":\"file\",\"accept\":\"image/*\",\"name\":\"userNewAvatar\"},on:{\"change\":_vm.handleFileChange}})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"userNewBanner\"}},[_c('img',{staticClass:\"user-info-icon\",attrs:{\"type\":\"button\",\"src\":require(\"../assets/icon-photo.png\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{attrs:{\"for\":\"userNewAvatar\"}},[_c('img',{staticClass:\"user-info-icon\",attrs:{\"type\":\"button\",\"src\":require(\"../assets/icon-photo.png\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"textContent-span-wrapper\"},[_c('span',{staticClass:\"textContent-span textContent-span-warning textContent-span-hidden\"},[_vm._v(\"字數已達上限!\")]),_c('span',{staticClass:\"textContent-span textContent-span-hidden\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"textContent-span-wrapper\"},[_c('span',{staticClass:\"textContent-span textContent-span-warning textContent-span-hidden\"},[_vm._v(\"字數已達上限!\")]),_c('span',{staticClass:\"textContent-span textContent-span-hidden\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal fade\" v-bind:id=\"'modalUserInfo'\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\">\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"user-info-modal-header\">\r\n          <div class=\"user-info-modal-header-left-wrapper\">\r\n            <img src=\"../assets/icon-close.png\" alt=\"\" type=\"button\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n              v-on:click=\"cancelEdit\">\r\n            <div>編輯個人檔案</div>\r\n          </div>\r\n          <div class=\"user-info-modal-header-right-wrapper\">\r\n            <button type=\"button\" class=\"btn btn-user-info-modal\" @click.prevent.stop=\"handleSubmit\"\r\n              v-bind:disabled=\"isProcessing\">儲存</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"user-info-modal-body\">\r\n          <form class=\"user-info-form\">\r\n            <div class=\"user-info-form-banner-wrapper\">\r\n              <img v-bind:src=\"userNewInfo.banner\" alt=\"\" type=\"file\" accept=\"image/*\">\r\n              <div>\r\n                <label for=\"userNewBanner\">\r\n                  <img class=\"user-info-icon\" type=\"button\" src=\"../assets/icon-photo.png\" alt=\"\">\r\n                </label>\r\n                <img class=\"user-info-icon\" type=\"button\" src=\"../assets/icon-close(white).png\"\r\n                  v-on:click=\"removeBanner\" alt=\"\">\r\n              </div>\r\n            </div>\r\n            <div class=\"user-info-form-avatar-wrapper\">\r\n              <img v-bind:src=\"userNewInfo.avatar\" alt=\"\">\r\n              <label for=\"userNewAvatar\">\r\n                <img class=\"user-info-icon\" type=\"button\" src=\"../assets/icon-photo.png\" alt=\"\">\r\n              </label>\r\n            </div>\r\n            <div class=\"form-row mb-3 user-info-form-row\">\r\n              <input v-model=\"userNewInfo.name\" style=\"background-color:#F5F8FA;\" type=\"text\" maxlength=\"20\"\r\n                class=\"form-control\" placeholder=\"名稱\" v-on:keyup='words_deal' required>\r\n              <div class=\"textContent-span-wrapper\">\r\n                <span class=\"textContent-span textContent-span-warning textContent-span-hidden\">字數已達上限!</span>\r\n                <span class=\"textContent-span textContent-span-hidden\"></span>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-row mb-3 user-info-form-row\">\r\n              <textarea cols=\"30\" rows=\"5\" maxlength=\"140\" placeholder=\"自我介紹\" v-model=\"userNewInfo.introduction\"\r\n                v-on:keyup='words_deal'></textarea>\r\n              <div class=\"textContent-span-wrapper\">\r\n                <span class=\"textContent-span textContent-span-warning textContent-span-hidden\">字數已達上限!</span>\r\n                <span class=\"textContent-span textContent-span-hidden\"></span>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <input id=\"userNewBanner\" type=\"file\" accept=\"image/*\" name=\"userNewBanner\" v-on:change=\"handleFileChange\">\r\n    <input id=\"userNewAvatar\" type=\"file\" accept=\"image/*\" name=\"userNewAvatar\" v-on:change=\"handleFileChange\">\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport usersAPI from '../api/users'\r\nimport { Toast } from '../utils/helpers'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  props: {\r\n    propsUser: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isProcessing: false,\r\n      userNewInfo: {},\r\n      banner: '',\r\n      avatar: '',\r\n      userOriginalInfo: {},\r\n    }\r\n  },\r\n  methods: {\r\n    async handleSubmit(e) {\r\n      try {\r\n        // user name 不可為空白，空白則跳出函式\r\n        if (!this.userNewInfo.name) {\r\n          Toast.fire({\r\n            icon: 'warning',\r\n            title: 'Name 不可為空白'\r\n          })\r\n          this.userNewInfo.name = this.propsUser.name\r\n          return\r\n        }\r\n        // 避免使用者移除 input、textarea 的 maxlength=\"20\"or\"140\" 屬性\r\n        if (this.userNewInfo.name.length > 20) {\r\n          this.userNewInfo.name = this.userNewInfo.name.slice(0, 20)\r\n        }\r\n        if (this.userNewInfo.introduction.length > 140) {\r\n          this.userNewInfo.introduction = this.userNewInfo.introduction.slice(0, 140)\r\n        }\r\n\r\n        // 建立 formData()\r\n        let formData = new FormData()\r\n\r\n        // formData 加入 avatar、banner檔案，傳回後端會是 req.body.files(陣列，裡面每個物件都是一張圖)。如果沒有傳入檔案，會是空字串，但不影響流程\r\n        // 如果使用者 cancel banner，此時 this.banner 會是 default banner URL 字串型態，傳回後端會是在 req.body.banner\r\n        if (typeof this.banner === 'object') {\r\n          formData.append(\"files\", this.banner)\r\n        } else if (typeof this.banner === 'string') {\r\n          formData.append('banner', this.banner)\r\n        }\r\n        formData.append(\"files\", this.avatar)\r\n\r\n        // 如果 userNewInfo.name、userNewInfo.introduction 不是空白，則加入 formData\r\n        if (this.userNewInfo.name) {\r\n          formData.append('name', this.userNewInfo.name)\r\n        }\r\n        if (this.userNewInfo.introduction) {\r\n          formData.append('introduction', this.userNewInfo.introduction)\r\n        }\r\n\r\n        const userId = this.currentUser.id\r\n\r\n        Toast.fire({\r\n          icon: 'warning',\r\n          title: '正在更新中，請稍後',\r\n          timer: false\r\n        })\r\n\r\n        // 傳送資料到後端\r\n        const response = await usersAPI.putUser({ userId, formData })\r\n\r\n        // 錯誤，跳到錯誤處理\r\n        if (response.data.status !== 'success') {\r\n          throw new Error()\r\n        }\r\n\r\n        Toast.fire({\r\n          icon: 'success',\r\n          title: '更新成功'\r\n        })\r\n\r\n        // 定義要回傳到父層，更新 UserBoard.vue 的資訊\r\n        const emitData = {\r\n          name: this.userNewInfo.name,\r\n          introduction: this.userNewInfo.introduction,\r\n        }\r\n        if (response.data.results) {\r\n          //如 有更新 avatar 或 banner，則 results 至少會有一個物件，將該物件中的 imgurLink 存到 emitData 中\r\n          let avatar = undefined\r\n          let banner = undefined\r\n          response.data.results.forEach(result => {\r\n            if (result.originalname === 'avatar') {\r\n              avatar = result.imgurLink\r\n              emitData.avatar = avatar\r\n            } else if (result.originalname === 'banner') {\r\n              banner = result.imgurLink\r\n              emitData.banner = banner\r\n            }\r\n          })\r\n        }\r\n        if (typeof this.banner === 'string' && this.banner.length > 0) {\r\n          emitData.banner = this.banner\r\n        }\r\n\r\n        // 回傳到父層，更新 UserBoard.vue 的資訊\r\n        this.$emit('after-put-userInfo', {\r\n          ...emitData,\r\n        })\r\n        // 回傳到 vuex，更新 currentUser 的資訊\r\n        this.$store.dispatch('afterPutUserInfo', {\r\n          ...emitData,\r\n        })\r\n\r\n        // 送出後，清除字數上限提示\r\n        const textContentSpanWrappers = document.querySelectorAll('.textContent-span-wrapper')\r\n        textContentSpanWrappers.forEach(textContentSpanWrapper => {\r\n          textContentSpanWrapper.children[0].classList.add('textContent-span-hidden')\r\n          textContentSpanWrapper.children[1].classList.add('textContent-span-hidden')\r\n        })\r\n\r\n        this.avatar = ''\r\n        this.banner = ''\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        let title = '更新失敗，請稍後再試'\r\n        // 如果後端有提供錯誤訊息，以後端為主\r\n        if (error.response.data.message) {\r\n          title = error.response.data.message\r\n        }\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: title\r\n        })\r\n      }\r\n    },\r\n    handleFileChange(event) {\r\n      const { files } = event.target\r\n      const imageURL = window.URL.createObjectURL(files[0])\r\n      if (event.target.name === 'userNewAvatar') {\r\n        this.userNewInfo.avatar = imageURL\r\n        this.avatar = new File([event.target.files[0]], 'avatar')\r\n      } else if (event.target.name === 'userNewBanner') {\r\n        this.userNewInfo.banner = imageURL\r\n        this.banner = new File([event.target.files[0]], 'banner')\r\n      }\r\n    },\r\n    removeBanner() {\r\n      const defaultBannerURL = 'https://i.imgur.com/wjSOQDI.png'\r\n      this.banner = defaultBannerURL\r\n      this.userNewInfo.banner = defaultBannerURL\r\n    },\r\n    cancelEdit() {\r\n      this.userNewInfo.name = this.userOriginalInfo.name\r\n      this.userNewInfo.introduction = this.userOriginalInfo.introduction\r\n      this.userNewInfo.banner = this.userOriginalInfo.banner\r\n      this.userNewInfo.avatar = this.userOriginalInfo.avatar\r\n    },\r\n    words_deal(event) {\r\n      const maxlength = event.target.attributes.maxlength.value\r\n      const textlength = event.target.value.length\r\n\r\n      // 可輸入的字數剩餘 20 字以內時\r\n      if (maxlength - textlength <= 20) {\r\n        // 顯示\"目前字數/字數上限\" 如 120/140\r\n        event.target.parentElement.children[1].children[1].classList.remove('textContent-span-hidden')\r\n        event.target.parentElement.children[1].children[1].textContent = `${textlength}/${maxlength}`\r\n\r\n        // 目前字數>=字數上限時，顯示\"字數已達上限\"的提示\r\n        if (textlength >= maxlength) {\r\n          event.target.parentElement.children[1].children[0].classList.remove('textContent-span-hidden')\r\n        } else {\r\n          event.target.parentElement.children[1].children[0].classList.add('textContent-span-hidden')\r\n        }\r\n      } else {\r\n        event.target.parentElement.children[1].children[0].classList.add('textContent-span-hidden')\r\n        event.target.parentElement.children[1].children[1].classList.add('textContent-span-hidden')\r\n      }\r\n      return\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n  // 自動監控某些屬性，可以帶入兩個值 initialRestaurant(newValue, oldValue)\r\n  // 如果屬性的內容有變更時，就可以去做一些事\r\n  watch: {\r\n    propsUser(newValue) {\r\n      this.userNewInfo = {\r\n        ...this.userNewInfo,\r\n        ...newValue\r\n      }\r\n      this.userOriginalInfo = {\r\n        ...newValue\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.userNewInfo = {\r\n      ...this.userNewInfo,\r\n      ...this.propsUser\r\n    }\r\n    this.userOriginalInfo = {\r\n      ...this.propsUser\r\n    }\r\n    this.banner = this.propsUser.banner\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.user-info-modal-header {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 15px 15px 0px;\r\n}\r\n\r\n.user-info-modal-header-left-wrapper {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  font-size: 19px;\r\n  line-height: 28px;\r\n  color: #1C1C1C;\r\n}\r\n\r\n.user-info-modal-header-left-wrapper img {\r\n  width: 15px;\r\n  height: 15px;\r\n  margin-right: 45px;\r\n}\r\n\r\n.btn-user-info-modal {\r\n  width: 66px;\r\n  height: 28px;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 18px;\r\n  color: #FFFFFF;\r\n  background: #FF6600;\r\n  border: 1px solid #FF6600;\r\n  border-radius: 100px;\r\n}\r\n\r\n.user-info-modal-body {\r\n  position: relative;\r\n  margin: 15px 15px;\r\n}\r\n\r\n.user-info-form-banner-wrapper img {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: -15px;\r\n  width: 498px;\r\n  height: 166px;\r\n  object-fit: cover;\r\n  opacity: 0.75;\r\n}\r\n\r\n.user-info-form-banner-wrapper div {\r\n  position: absolute;\r\n  top: 83px;\r\n  left: 50%;\r\n  height: 20px;\r\n  transform: translate(-50%, -50%);\r\n  opacity: 1;\r\n}\r\n\r\n.user-info-form-banner-wrapper div .user-info-icon {\r\n  position: static;\r\n  width: 20px;\r\n  height: 20px;\r\n  margin: 0px 18px;\r\n  border-radius: 0px;\r\n}\r\n\r\n.user-info-form-avatar-wrapper {\r\n  z-index: 100;\r\n  position: absolute;\r\n  top: 97px;\r\n  left: 0px;\r\n  width: 128px;\r\n  height: 128px;\r\n  background-color: #929292;\r\n  border: 4px solid #FFFFFF;\r\n  border-radius: 50%;\r\n}\r\n\r\n.user-info-form-avatar-wrapper img {\r\n  z-index: 99;\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  opacity: 0.75;\r\n}\r\n\r\n.user-info-form-avatar-wrapper .user-info-icon {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 0px;\r\n  transform: translate(-50%, -50%);\r\n  opacity: 1;\r\n}\r\n\r\n.user-info-form :nth-child(3) {\r\n  margin-top: 246px;\r\n}\r\n\r\n.user-info-form-row textarea {\r\n  width: 100%;\r\n  margin: 0px;\r\n  margin-bottom: -5px;\r\n  padding: 6px 12px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 0px 0px 4px 4px;\r\n  background-color: #F5F8FA;\r\n  resize: none;\r\n}\r\n\r\n.user-info-form-row:focus,\r\n.user-info-form-row textarea:focus-visible {\r\n  width: 100%;\r\n  outline: none;\r\n}\r\n\r\n#userNewBanner,\r\n#userNewAvatar {\r\n  visibility: hidden;\r\n  position: absolute;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalUserInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalUserInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalUserInfo.vue?vue&type=template&id=71465602&\"\nimport script from \"./ModalUserInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalUserInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalUserInfo.vue?vue&type=style&index=0&id=71465602&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from '../utils/helpers'\r\n\r\nexport default {\r\n  postNoti: ({ formData }) => {\r\n    return apiHelper.post('/notify', formData)\r\n  },\r\n  deleteNoti: ({ notiObjId }) => {\r\n    return apiHelper.delete(`/notify/${notiObjId}`)\r\n  }\r\n}","<template>\r\n  <div class=\"user-board-wrapper\">\r\n    <div class=\"user-banner-wrapper\">\r\n      <img v-bind:src=\"user.banner\" alt=\"\">\r\n    </div>\r\n\r\n    <div class=\"user-avatar-wrapper\">\r\n      <router-link class=\"link\" v-bind:to=\"'/users/' + user.id\">\r\n        <img v-bind:src=\"user.avatar\" alt=\"\">\r\n      </router-link>\r\n    </div>\r\n\r\n    <!-- trigger modal -->\r\n    <button v-if=\"user.id === currentUser.id\" class=\"btn btn-user-info\" type=\"button\" data-bs-toggle=\"modal\"\r\n      v-bind:data-bs-target=\"'#modalUserInfo'\">編輯個人資料</button>\r\n    <div v-else class=\"user-interaction-wrapper\">\r\n      <!-- <img class=\"user-interaction-wrapper-item\" type=\"button\" src=\"../assets/icon-messege.png\"\r\n        v-on:click=\"chat(user.id)\" alt=\"\">\r\n      <img v-if=\"!currentUser.NotiObjs.includes(user.id)\" class=\"user-interaction-wrapper-item\" type=\"button\"\r\n        src=\"../assets/icon-noti.png\" v-on:click=\"postNoti(user.id)\" v-bind:disabled=\"isProcessing\" alt=\"\">\r\n      <img v-else class=\"user-interaction-wrapper-item\" type=\"button\" src=\"../assets/icon-noti-on.png\"\r\n        v-on:click=\"deleteNoti(user.id)\" v-bind:disabled=\"isProcessing\" alt=\"\"> -->\r\n      <button v-if=\"!currentUser.Followings.includes(user.id)\" class=\"user-interaction-wrapper-item btn btn-orange\"\r\n        type=\"button\" v-on:click=\"postFollowship(user.id)\" v-bind:disabled=\"isProcessing\">跟隨</button>\r\n      <button v-else class=\"user-interaction-wrapper-item btn btn-orange btn-isFollowed\" type=\"button\"\r\n        v-on:click=\"deleteFollowship(user.id)\" v-bind:disabled=\"isProcessing\">正在跟隨</button>\r\n    </div>\r\n    <div class=\"user-info-wrapper\">\r\n      <div class=\"user-info-name\">{{ user.name }}</div>\r\n      <div class=\"user-info-account\">@{{ user.account }}</div>\r\n      <div class=\"user-info-introduction\">{{ user.introduction }}</div>\r\n      <div class=\"user-info-followship-wrapper\">\r\n        <!-- <router-link class=\"link\" v-bind:to=\"'/users/' + user.id + '/followship'\"> -->\r\n        <router-link class=\"link\"\r\n          v-bind:to=\"{ name: 'userFollowship', params: { id: user.id }, query: { show: 'userFollowings' } }\">\r\n          <!-- <div class=\"user-info-followship-followings\">{{ followingsLength }}個<p>跟隨中</p>\r\n          </div> -->\r\n          <div class=\"user-info-followship-followings\">{{ propsUser.Followings ? propsUser.Followings.length : 0 }}個\r\n            <p>跟隨中</p>\r\n          </div>\r\n        </router-link>\r\n        <router-link class=\"link\" v-bind:to=\"'/users/' + user.id + '/followship'\">\r\n          <!-- <div class=\"user-info-followship-followers\">{{ followersLength }}位<p>跟隨者</p>\r\n          </div> -->\r\n          <div class=\"user-info-followship-followers\">{{ propsUser.Followers ? propsUser.Followers.length : 0 }}位<p>\r\n              跟隨者</p>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <ModalUserInfo v-bind:propsUser=\"currentUser\" v-on:after-put-userInfo=\"afterPutUserInfo\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ModalUserInfo from './ModalUserInfo.vue'\r\nimport followshipAPI from '../api/followships'\r\nimport notifyAPI from '../api/notify'\r\n\r\nexport default {\r\n  components: {\r\n    ModalUserInfo\r\n  },\r\n  props: {\r\n    propsUser: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    currentUser: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      user: {},\r\n      followingsLength: '',\r\n      followersLength: '',\r\n      isProcessing: false,\r\n    }\r\n  },\r\n  methods: {\r\n    afterPutUserInfo(payload) {\r\n      this.user = {\r\n        ...this.user,\r\n        ...payload,\r\n      }\r\n      this.$emit('after-put-userInfo', {\r\n        ...payload,\r\n      })\r\n    },\r\n    async postFollowship(followingId) {\r\n      try {\r\n        this.isProcessing = true\r\n        const currentUserId = this.currentUser.id\r\n        const formData = {\r\n          userId: currentUserId,\r\n          id: followingId\r\n        }\r\n        const { data } = await followshipAPI.postFollowship({ formData })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n        // 更新前端畫面\r\n        this.currentUser.Followings.push(followingId)\r\n        // 如果在其他 User 的 User.vue 畫面，在 post Followship 後，要在 UserBoard 新增\"跟隨者\"的數目\r\n        if (Number(this.$route.params.id) === followingId && this.$route.name === 'user') {\r\n          this.$emit('after-post-followship', {\r\n            situation: 'atOtherUserPage',\r\n            followerId: currentUserId\r\n          })\r\n        }\r\n\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    async deleteFollowship(followingId) {\r\n      try {\r\n        this.isProcessing = true\r\n        const currentUserId = this.currentUser.id\r\n        const { data } = await followshipAPI.deleteFollowship({ followingId })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n        // 更新前端畫面\r\n        this.currentUser.Followings = this.currentUser.Followings.map(followings => {\r\n          if (followings !== followingId) {\r\n            return followings\r\n          }\r\n        })\r\n        // 如果在其他 User 的 User.vue 畫面，在 delete Followship 後，要在 UserBoard 減少\"跟隨者\"的數目\r\n        if (Number(this.$route.params.id) === followingId && this.$route.name === 'user') {\r\n          this.$emit('after-delete-followship', {\r\n            situation: 'atOtherUserPage',\r\n            followerId: currentUserId\r\n          })\r\n        }\r\n\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    async postNoti(notiObjId) {\r\n      try {\r\n        this.isProcessing = true\r\n        const currentUserId = this.currentUser.id\r\n        const formData = {\r\n          userId: currentUserId,\r\n          id: notiObjId\r\n        }\r\n        const { data } = await notifyAPI.postNoti({ formData })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n        // 更新前端畫面\r\n        this.currentUser.NotiObjs.push(notiObjId)\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    async deleteNoti(notiObjId) {\r\n      try {\r\n        this.isProcessing = true\r\n        const currentUserId = this.currentUser.id\r\n        const { data } = await notifyAPI.deleteNoti({ notiObjId })\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n        // 更新前端畫面\r\n        this.currentUser.NotiObjs = this.currentUser.NotiObjs.map(notiObj => {\r\n          if (notiObj !== notiObjId) {\r\n            return notiObj\r\n          }\r\n        })\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    chat(userId) {\r\n      this.$router.push({ path: '/chat_private', userId: userId, query: { userId: userId } })\r\n    }\r\n  },\r\n  watch: {\r\n    propsUser(newValue) {\r\n      this.user = {\r\n        ...this.user,\r\n        ...newValue,\r\n      }\r\n      this.followingsLength = newValue.Followings.length\r\n      this.followersLength = newValue.Followers.length\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.user-board-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0px 0px;\r\n}\r\n\r\n.user-banner-wrapper img {\r\n  width: 598px;\r\n  height: 200px;\r\n  object-fit: cover;\r\n}\r\n\r\n.user-avatar-wrapper img {\r\n  position: absolute;\r\n  top: 124px;\r\n  left: 14px;\r\n  width: 140px;\r\n  height: 140px;\r\n  border: 4px solid #FFFFFF;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.btn-user-info {\r\n  position: absolute;\r\n  top: 210px;\r\n  left: 465px;\r\n  width: 120px;\r\n  height: 35px;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 15px;\r\n  color: #FF6600;\r\n  border: 1px solid #FF6600;\r\n  border-radius: 100px;\r\n}\r\n\r\n.user-interaction-wrapper {\r\n  position: absolute;\r\n  top: 210px;\r\n  right: 15px;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.user-interaction-wrapper img {\r\n  width: 35px;\r\n  height: 35px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.user-interaction-wrapper .btn-orange {\r\n  margin: 0px;\r\n  width: 60px;\r\n  height: 35px;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 15px;\r\n  background-color: #ffffff;\r\n  color: #FF6600;\r\n  border: 1px solid #FF6600;\r\n  border-radius: 100px;\r\n}\r\n\r\n.user-interaction-wrapper .btn-isFollowed {\r\n  width: 100px;\r\n  background-color: #FF6600;\r\n  color: #ffffff;\r\n  border: 1px solid #FF6600;\r\n}\r\n\r\n.user-info-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 75px 15px 0px;\r\n}\r\n\r\n.user-info-name {\r\n  font-weight: 900;\r\n  font-size: 19px;\r\n  line-height: 28px;\r\n  color: #1C1C1C;\r\n}\r\n\r\n.user-info-account {\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #657786;\r\n}\r\n\r\n.user-info-introduction {\r\n  margin-top: 10px;\r\n  font-weight: 400;\r\n  font-size: 14px;\r\n  line-height: 20px;\r\n  color: #000000;\r\n}\r\n\r\n.user-info-followship-wrapper {\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-top: 10px;\r\n}\r\n\r\n.user-info-followship-wrapper div {\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-right: 20px;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  line-height: 20px;\r\n  color: #000000;\r\n}\r\n\r\n.user-info-followship-wrapper p {\r\n  color: #657786;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserBoard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserBoard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserBoard.vue?vue&type=template&id=532181e6&\"\nimport script from \"./UserBoard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserBoard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserBoard.vue?vue&type=style&index=0&id=532181e6&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-nav-pills-wrapper\"},[_c('fieldset',[_c('div',[_c('input',{attrs:{\"type\":\"radio\",\"id\":\"user-nav-pills-tweets\",\"name\":\"user-nav-pills\",\"value\":\"user-nav-pills-tweets\",\"checked\":\"\"},on:{\"change\":_vm.changeUserNavPills}}),_c('label',{staticClass:\"user-nav-pills-link\",attrs:{\"for\":\"user-nav-pills-tweets\"}},[_vm._v(\"推文\")])]),_c('div',[_c('input',{attrs:{\"type\":\"radio\",\"id\":\"user-nav-pills-tweetsAndReplies\",\"name\":\"user-nav-pills\",\"value\":\"user-nav-pills-tweetsAndReplies\"},on:{\"change\":_vm.changeUserNavPills}}),_c('label',{staticClass:\"user-nav-pills-link\",attrs:{\"for\":\"user-nav-pills-tweetsAndReplies\"}},[_vm._v(\"推文與回覆\")])]),_c('div',[_c('input',{attrs:{\"type\":\"radio\",\"id\":\"user-nav-pills-likes\",\"name\":\"user-nav-pills\",\"value\":\"user-nav-pills-likes\"},on:{\"change\":_vm.changeUserNavPills}}),_c('label',{staticClass:\"user-nav-pills-link\",attrs:{\"for\":\"user-nav-pills-likes\"}},[_vm._v(\"喜歡的內容\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"user-nav-pills-wrapper\">\r\n    <fieldset>\r\n      <div>\r\n        <input type=\"radio\" id=\"user-nav-pills-tweets\" name=\"user-nav-pills\" value=\"user-nav-pills-tweets\"\r\n          v-on:change=\"changeUserNavPills\" checked>\r\n        <label class=\"user-nav-pills-link\" for=\"user-nav-pills-tweets\">推文</label>\r\n      </div>\r\n      <div>\r\n        <input type=\"radio\" id=\"user-nav-pills-tweetsAndReplies\" name=\"user-nav-pills\"\r\n          value=\"user-nav-pills-tweetsAndReplies\" v-on:change=\"changeUserNavPills\">\r\n        <label class=\"user-nav-pills-link\" for=\"user-nav-pills-tweetsAndReplies\">推文與回覆</label>\r\n      </div>\r\n      <div>\r\n        <input type=\"radio\" id=\"user-nav-pills-likes\" name=\"user-nav-pills\" value=\"user-nav-pills-likes\"\r\n          v-on:change=\"changeUserNavPills\">\r\n        <label class=\"user-nav-pills-link\" for=\"user-nav-pills-likes\">喜歡的內容</label>\r\n      </div>\r\n    </fieldset>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  methods: {\r\n    changeUserNavPills(event) {\r\n      this.$emit('after-change-user-nav-pills', {\r\n        value: event.target.value\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.user-nav-pills-wrapper fieldset {\r\n  display: flex;\r\n  flex-direction: row;\r\n  border-bottom: 1px solid #E6ECF0;\r\n}\r\n\r\n.user-nav-pills-wrapper fieldset input {\r\n  display: none;\r\n}\r\n\r\n.user-nav-pills-link {\r\n  display: block;\r\n  text-align: center;\r\n  width: 130px;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #657786;\r\n  text-decoration: none;\r\n}\r\n\r\n.user-nav-pills-wrapper fieldset input:checked+label {\r\n  color: #FF6600;\r\n  border-bottom: 2px solid #FF6600;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserNavPills.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserNavPills.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserNavPills.vue?vue&type=template&id=1b5a54de&\"\nimport script from \"./UserNavPills.vue?vue&type=script&lang=js&\"\nexport * from \"./UserNavPills.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserNavPills.vue?vue&type=style&index=0&id=1b5a54de&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],attrs:{\"infinite-scroll-disabled\":\"busy\"}},_vm._l((_vm.likes),function(like){return _c('div',{key:like.id,staticClass:\"like-wrapper\"},[_c('div',{staticClass:\"like-wrapper-left\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + like.Tweet.User.id}},[_c('img',{attrs:{\"src\":like.Tweet.User.avatar,\"alt\":\"\"}})])],1),_c('div',{staticClass:\"like-wrapper-right\"},[_c('div',{staticClass:\"like-tweet-info\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + like.Tweet.User.id}},[_c('div',{staticClass:\"like-tweet-info-name\"},[_vm._v(\" \"+_vm._s(like.Tweet.User.name))])]),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + like.Tweet.User.id}},[_c('div',{staticClass:\"like-tweet-info-account\"},[_vm._v(\" @\"+_vm._s(like.Tweet.User.account))])]),_c('div',{staticClass:\"like-tweet-info-data\"},[_vm._v(\"・\"+_vm._s(_vm._f(\"fromNow\")(like.Tweet.createdAt))+\" \")])],1),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/tweets/' + like.Tweet.id}},[_c('div',{staticClass:\"like-tweet-description\"},[_vm._v(\" \"+_vm._s(like.Tweet.description)+\" \")])]),_c('div',{staticClass:\"like-interaction\"},[_c('div',[_c('img',{attrs:{\"src\":require(\"../assets/icon-reply.png\"),\"alt\":\"\",\"type\":\"button\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":'#modalTweetReplyLikesSection' + like.Tweet.id}}),_c('p',[_vm._v(_vm._s(like.Tweet.repliesLength))])]),(_vm.currentUser.userLikesId.includes(like.Tweet.id))?_c('div',[_c('img',{attrs:{\"src\":require(\"../assets/icon-isLiked.png\"),\"alt\":\"\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.unlikeTweet(like.Tweet.id)}}}),_c('p',{staticClass:\"like-interaction-liked-p\"},[_vm._v(_vm._s(like.Tweet.likesLength))])]):_c('div',[_c('img',{attrs:{\"src\":require(\"../assets/icon-like.png\"),\"alt\":\"\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.likeTweet(like.Tweet.id)}}}),_c('p',[_vm._v(_vm._s(like.Tweet.likesLength))])])])],1),_c('ModalTweetReplyLikesSection',{attrs:{\"tweet\":like.Tweet,\"currentUser\":_vm.currentUser},on:{\"after-post-tweet-reply\":_vm.afterPostTweetReply}})],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":'modalTweetReplyLikesSection' + _vm.tweet.id,\"tabindex\":\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"modal-tweet-wrapper\"},[_c('div',{staticClass:\"modal-tweet-wrapper-left\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + _vm.tweet.User.id}},[_c('img',{attrs:{\"src\":_vm.tweet.User.avatar,\"alt\":\"\",\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"}})]),_c('span')],1),_c('div',{staticClass:\"modal-tweet-wrapper-right\"},[_c('div',{staticClass:\"modal-tweet-info\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + _vm.tweet.User.id}},[_c('div',{staticClass:\"modal-tweet-info-name\",attrs:{\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_vm._v(\" \"+_vm._s(_vm.tweet.User.name))])]),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + _vm.tweet.User.id}},[_c('div',{staticClass:\"modal-tweet-info-account\",attrs:{\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_vm._v(\" @\"+_vm._s(_vm.tweet.User.account)+\" \")])]),_c('div',{staticClass:\"modal-tweet-info-data\"},[_vm._v(\"・\"+_vm._s(_vm._f(\"fromNow\")(_vm.tweet.createdAt)))])],1),_c('div',{staticClass:\"modal-tweet-description\"},[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")]),_c('div',{staticClass:\"modal-reply-to\"},[_vm._v(\" 回覆給 \"),_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + _vm.tweet.User.id}},[_c('p',{attrs:{\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_vm._v(\"@\"+_vm._s(_vm.tweet.User.account))])])],1)])]),_c('div',{staticClass:\"modal-tweet-reply-wrapper\"},[_c('div',{staticClass:\"modal-tweet-reply-wrapper-left\"},[_c('router-link',{staticClass:\"link\",attrs:{\"to\":'/users/' + _vm.currentUser.id}},[_c('img',{attrs:{\"src\":_vm.currentUser.avatar,\"alt\":\"\",\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"}})])],1),_c('form',{staticClass:\"modal-tweet-reply-wrapper-right\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTweetReply),expression:\"newTweetReply\"}],attrs:{\"tweetId\":_vm.tweet.id,\"cols\":\"30\",\"rows\":\"5\",\"maxlength\":\"140\",\"placeholder\":\"推你的回覆\",\"name\":\"newTweetReply\",\"required\":\"\"},domProps:{\"value\":(_vm.newTweetReply)},on:{\"keyup\":_vm.words_deal,\"input\":function($event){if($event.target.composing)return;_vm.newTweetReply=$event.target.value}}})])])]),_c('div',{staticClass:\"modal-footer\"},[_c('div',{staticClass:\"textContent-span-wrapper\",attrs:{\"id\":'modalTweetReplyLikesSection-textContent-span-wrapper' + _vm.tweet.id}},[_c('span',{staticClass:\"textContent-span textContent-span-warning textContent-span-hidden\"},[_vm._v(\"字數已達上限!\")]),_c('span',{staticClass:\"textContent-span textContent-span-hidden\"}),_c('button',{staticClass:\"btn btn-orange btn-new-tweet\",attrs:{\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit(_vm.tweet.id, $event)}}},[_vm._v(\"回覆\")])])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal-header\"},[_c('img',{attrs:{\"src\":require(\"../assets/icon-close.png\"),\"alt\":\"\",\"type\":\"button\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal fade\" v-bind:id=\"'modalTweetReplyLikesSection' + tweet.id\" tabindex=\"-1\"\r\n    aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <img src=\"../assets/icon-close.png\" alt=\"\" type=\"button\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"modal-tweet-wrapper\">\r\n            <div class=\"modal-tweet-wrapper-left\">\r\n              <router-link class=\"link\" v-bind:to=\"'/users/' + tweet.User.id\">\r\n                <img v-bind:src=\"tweet.User.avatar\" alt=\"\" type=\"button\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n              </router-link>\r\n              <span></span>\r\n            </div>\r\n            <div class=\"modal-tweet-wrapper-right\">\r\n              <div class=\"modal-tweet-info\">\r\n                <router-link class=\"link\" v-bind:to=\"'/users/' + tweet.User.id\">\r\n                  <div class=\"modal-tweet-info-name\" type=\"button\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n                    {{ tweet.User.name }}</div>\r\n                </router-link>\r\n                <router-link class=\"link\" v-bind:to=\"'/users/' + tweet.User.id\">\r\n                  <div class=\"modal-tweet-info-account\" type=\"button\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n                    @{{ tweet.User.account }} </div>\r\n                </router-link>\r\n                <div class=\"modal-tweet-info-data\">・{{ tweet.createdAt | fromNow }}</div>\r\n              </div>\r\n              <div class=\"modal-tweet-description\">\r\n                {{ tweet.description }}\r\n              </div>\r\n              <div class=\"modal-reply-to\">\r\n                回覆給\r\n                <router-link class=\"link\" v-bind:to=\"'/users/' + tweet.User.id\">\r\n                  <p type=\"button\" data-bs-dismiss=\"modal\" aria-label=\"Close\">@{{ tweet.User.account }}</p>\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-tweet-reply-wrapper\">\r\n            <div class=\"modal-tweet-reply-wrapper-left\">\r\n              <router-link class=\"link\" v-bind:to=\"'/users/' + currentUser.id\">\r\n                <img v-bind:src=\"currentUser.avatar\" alt=\"\" type=\"button\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n              </router-link>\r\n            </div>\r\n            <form class=\"modal-tweet-reply-wrapper-right\">\r\n              <textarea v-bind:tweetId=\"tweet.id\" cols=\"30\" rows=\"5\" maxlength=\"140\" placeholder=\"推你的回覆\"\r\n                v-model=\"newTweetReply\" name=\"newTweetReply\" v-on:keyup='words_deal' required></textarea>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <div v-bind:id=\"'modalTweetReplyLikesSection-textContent-span-wrapper' + tweet.id\"\r\n            class=\"textContent-span-wrapper\">\r\n            <span class=\"textContent-span textContent-span-warning textContent-span-hidden\">字數已達上限!</span>\r\n            <span class=\"textContent-span textContent-span-hidden\"></span>\r\n            <button type=\"button\" class=\"btn btn-orange btn-new-tweet\" data-bs-dismiss=\"modal\"\r\n              v-bind:disabled=\"isProcessing\" @click.prevent.stop=\"handleSubmit(tweet.id, $event)\">回覆</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tweetsAPI from '../api/tweets'\r\nimport { fromNowFilter } from '../utils/mixins'\r\nimport { Toast } from '../utils/helpers'\r\n\r\nexport default {\r\n  props: {\r\n    tweet: {\r\n      type: Object\r\n    },\r\n    currentUser: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      newTweetReply: '',\r\n      isProcessing: false\r\n    }\r\n  },\r\n  methods: {\r\n    async handleSubmit(tweetId, event) {\r\n      try {\r\n        if (this.newTweetReply.trim() === '') {\r\n          Toast.fire({\r\n            icon: 'warning',\r\n            title: '回覆內容不可為空白'\r\n          })\r\n          return\r\n        }\r\n        // 避免使用者移除 textarea 的 maxlength=\"140\" 屬性\r\n        if (this.newTweetReply.length > 140) {\r\n          this.newTweetReply = this.newTweetReply.slice(0, 140)\r\n        }\r\n        this.isProcessing = true\r\n        const formData = {\r\n          userId: this.currentUser.id,\r\n          comment: this.newTweetReply,\r\n        }\r\n        const { data } = await tweetsAPI.postTweetReply({ formData, tweetId })\r\n        this.$emit('after-post-tweet-reply', {\r\n          ...data,\r\n          Tweet: {\r\n            ...this.tweet,\r\n          }\r\n        })\r\n        this.newTweetReply = ''\r\n        // 送出後，清除字數上限提示\r\n        event.target.parentElement.children[0].classList.add('textContent-span-hidden')\r\n        event.target.parentElement.children[1].classList.add('textContent-span-hidden')\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    words_deal(event) {\r\n      const maxlength = event.target.attributes.maxlength.value\r\n      const textlength = event.target.value.length    \r\n      const textContentSpanWrapper = document.querySelector(`#modalTweetReplyLikesSection-textContent-span-wrapper${Number(event.target.attributes.tweetid.value)}`)\r\n\r\n      // 可輸入的字數剩餘 20 字以內時\r\n      if (maxlength - textlength <= 20) {\r\n        // 顯示\"目前字數/字數上限\" 如 120/140\r\n        textContentSpanWrapper.children[1].classList.remove('textContent-span-hidden')\r\n        textContentSpanWrapper.children[1].textContent = `${textlength}/${maxlength}`\r\n\r\n        // 目前字數>=字數上限時，顯示\"字數已達上限\"的提示\r\n        if (textlength >= maxlength) {\r\n          textContentSpanWrapper.children[0].classList.remove('textContent-span-hidden')\r\n        } else {\r\n          textContentSpanWrapper.children[0].classList.add('textContent-span-hidden')\r\n        }\r\n      } else {\r\n        textContentSpanWrapper.children[0].classList.add('textContent-span-hidden')\r\n        textContentSpanWrapper.children[1].classList.add('textContent-span-hidden')\r\n      }\r\n      return\r\n    }\r\n  },\r\n  mixins: [fromNowFilter]\r\n}\r\n</script>\r\n\r\n<style>\r\n.modal-header img {\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n.modal-body {\r\n  margin: 0px;\r\n  padding: 0px;\r\n}\r\n\r\n.modal-tweet-wrapper {\r\n  display: flex;\r\n  padding: 15px;\r\n}\r\n\r\n.modal-tweet-wrapper-left img {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n\r\n.modal-tweet-wrapper-left span {\r\n  display: block;\r\n  width: 2px;\r\n  height: calc(100% - 30px);\r\n  margin: 5px auto 0px;\r\n  background: #CCD6DD;\r\n}\r\n\r\n.modal-tweet-wrapper-right {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 10px;\r\n}\r\n\r\n.modal-tweet-info {\r\n  display: flex;\r\n}\r\n\r\n.modal-tweet-info :nth-child(1) {\r\n  margin-right: 5px;\r\n}\r\n\r\n.modal-tweet-info-name {\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #1C1C1C;\r\n}\r\n\r\n.modal-tweet-info-account,\r\n.modal-tweet-info-data {\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #657786;\r\n}\r\n\r\n.modal-tweet-description {\r\n  margin-top: 6px;\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #1C1C1C;\r\n  word-break: break-all\r\n}\r\n\r\n.modal-reply-to {\r\n  display: flex;\r\n  margin-top: 20px;\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #657786;\r\n}\r\n\r\n.modal-reply-to p {\r\n  margin: 0px;\r\n  margin-left: 2px;\r\n  color: #FF6600;\r\n}\r\n\r\n.modal-tweet-reply-wrapper {\r\n  display: flex;\r\n  padding: 15px;\r\n}\r\n\r\n.modal-tweet-reply-wrapper-left img {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n\r\n.modal-tweet-reply-wrapper-right {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  width: 100%;\r\n  margin: 0px;\r\n  margin-left: 10px;\r\n  padding: 0px;\r\n}\r\n\r\n.modal-tweet-reply-wrapper-right input::placeholder {\r\n  color: #9197A3;\r\n}\r\n\r\n.modal-tweet-reply-wrapper-right textarea {\r\n  width: 100%;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  border: none;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 26px;\r\n  resize: none;\r\n}\r\n\r\n.modal-tweet-reply-wrapper-right textarea:focus,\r\n.modal-tweet-reply-wrapper-right textarea:focus-visible {\r\n  width: 100%;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  border: none;\r\n  outline: none;\r\n}\r\n\r\n.modal-footer {\r\n  border: none;\r\n}\r\n\r\n.modal-footer .btn-new-tweet {\r\n  width: 66px;\r\n  height: 38px;\r\n  border-radius: 100px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalTweetReplyLikesSection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalTweetReplyLikesSection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalTweetReplyLikesSection.vue?vue&type=template&id=0c57320e&\"\nimport script from \"./ModalTweetReplyLikesSection.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalTweetReplyLikesSection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalTweetReplyLikesSection.vue?vue&type=style&index=0&id=0c57320e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"busy\">\r\n    <div v-for=\"like in likes\" v-bind:key=\"like.id\" class=\"like-wrapper\">\r\n      <div class=\"like-wrapper-left\">\r\n        <router-link class=\"link\" v-bind:to=\"'/users/' + like.Tweet.User.id\">\r\n          <img v-bind:src=\"like.Tweet.User.avatar\" alt=\"\">\r\n        </router-link>\r\n      </div>\r\n      <div class=\"like-wrapper-right\">\r\n        <div class=\"like-tweet-info\">\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + like.Tweet.User.id\">\r\n            <div class=\"like-tweet-info-name\"> {{ like.Tweet.User.name }}</div>\r\n          </router-link>\r\n          <router-link class=\"link\" v-bind:to=\"'/users/' + like.Tweet.User.id\">\r\n            <div class=\"like-tweet-info-account\"> @{{ like.Tweet.User.account }}</div>\r\n          </router-link>\r\n          <div class=\"like-tweet-info-data\">・{{ like.Tweet.createdAt | fromNow }} </div>\r\n        </div>\r\n        <router-link class=\"link\" v-bind:to=\"'/tweets/' + like.Tweet.id\">\r\n          <div class=\"like-tweet-description\">\r\n            {{ like.Tweet.description }}\r\n          </div>\r\n        </router-link>\r\n        <div class=\"like-interaction\">\r\n          <div>\r\n            <!-- trigger modal -->\r\n            <!-- 改用 ModalTweetReplyLikesSection，使用 ModalTweetReply 時，在 LikesSection 點擊 trigger modal，如果該 tweet 的 user 是 currentUser 則 Modal 不會顯示只會有灰幕-->\r\n            <!-- <img src=\"../assets/icon-reply.png\" alt=\"\" type=\"button\" data-bs-toggle=\"modal\"\r\n              v-bind:data-bs-target=\"'#modal' + like.Tweet.id\"> -->\r\n            <img src=\"../assets/icon-reply.png\" alt=\"\" type=\"button\" data-bs-toggle=\"modal\"\r\n              v-bind:data-bs-target=\"'#modalTweetReplyLikesSection' + like.Tweet.id\">\r\n            <p>{{ like.Tweet.repliesLength }}</p>\r\n          </div>\r\n          <div v-if=\"currentUser.userLikesId.includes(like.Tweet.id)\">\r\n            <img src=\"../assets/icon-isLiked.png\" alt=\"\" type=\"button\" v-on:click=\"unlikeTweet(like.Tweet.id)\">\r\n            <p class=\"like-interaction-liked-p\">{{ like.Tweet.likesLength }}</p>\r\n          </div>\r\n          <div v-else>\r\n            <img src=\"../assets/icon-like.png\" alt=\"\" type=\"button\" v-on:click=\"likeTweet(like.Tweet.id)\">\r\n            <p>{{ like.Tweet.likesLength }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- <ModalTweetReply v-bind:tweet=\"like.Tweet\" v-bind:currentUser=\"currentUser\"\r\n        v-on:after-post-tweet-reply=\"afterPostTweetReply\" /> -->\r\n      <ModalTweetReplyLikesSection v-bind:tweet=\"like.Tweet\" v-bind:currentUser=\"currentUser\"\r\n        v-on:after-post-tweet-reply=\"afterPostTweetReply\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tweetsAPI from '../api/tweets'\r\nimport ModalTweetReply from './ModalTweetReply.vue'\r\nimport ModalTweetReplyLikesSection from './ModalTweetReplyLikesSection.vue'\r\nimport { fromNowFilter } from '../utils/mixins'\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    ModalTweetReply,\r\n    ModalTweetReplyLikesSection,\r\n  },\r\n  props: {\r\n    prosLikes: {\r\n      type: Array,\r\n    },\r\n    loadMoreTrigger: {\r\n      type: String\r\n    },\r\n    loadToEnd: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      likes: [],\r\n      isProcessing: false,\r\n    }\r\n  },\r\n  methods: {\r\n    async likeTweet(tweetId) {\r\n      try {\r\n        this.isProcessing = true\r\n        let likesLength = 0\r\n        // 向後端 post likeTweet\r\n        const { data } = await tweetsAPI.likeTweet({ tweetId })\r\n        if (data.status === 'success') {\r\n          // tweet 的愛心icon 亮起\r\n          this.currentUser.userLikesId.push(tweetId)\r\n          // tweet 的喜歡次數 + 1\r\n          this.likes.forEach(like => {\r\n            if (like.Tweet.id === tweetId) {\r\n              like.Tweet.likesLength += 1\r\n              likesLength = like.Tweet.likesLength\r\n            }\r\n          })\r\n        }\r\n        // 在自己的 User.vue，在 post like 後，要在自己的 TweetsSection 亮起該則 tweet 的愛心icon；在別人的 User.vue 則不用\r\n        if (this.$route.name === 'user' && Number(this.$route.params.id) === this.currentUser.id) {\r\n          // 將被喜歡的 tweet，以及 tweet 的喜歡次數(likesLength)，傳給父層再處理\r\n          this.$emit('after-like-tweet', {\r\n            likeTweetId: tweetId,\r\n            likesLength: likesLength,\r\n            from: 'LikesSection'\r\n          })\r\n        }\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    async unlikeTweet(tweetId) {\r\n      try {\r\n        this.isProcessing = true\r\n        let likesLength = 0\r\n        // 向後端 post unlikeTweet\r\n        const { data } = await tweetsAPI.unlikeTweet({ tweetId })\r\n        if (data.status === 'success') {\r\n          // tweet 的愛心icon 熄滅\r\n          this.currentUser.userLikesId = this.currentUser.userLikesId.map(userLikeId => {\r\n            if (userLikeId !== tweetId) {\r\n              return userLikeId\r\n            }\r\n          })\r\n          // tweet 的喜歡次數 - 1\r\n          this.likes.forEach(like => {\r\n            if (like.Tweet.id === tweetId) {\r\n              like.Tweet.likesLength -= 1\r\n              likesLength = like.Tweet.likesLength\r\n            }\r\n          })\r\n        }\r\n        // 在自己的 User.vue，在 delete like 後，要在自己的 TweetsSection 熄滅該則 tweet 的愛心icon；在別人的 User.vue 則不用\r\n        if (this.$route.name === 'user' && Number(this.$route.params.id) === this.currentUser.id) {\r\n          // 將被 unlike 的 tweet id，以及 tweet 的喜歡次數(likesLength)，傳給父層再處理\r\n          this.$emit('after-unlike-tweet', {\r\n            unlikeTweetId: tweetId,\r\n            likesLength: likesLength,\r\n            from: 'LikesSection'\r\n          })\r\n        }\r\n        this.isProcessing = false\r\n      } catch (error) {\r\n        this.isProcessing = false\r\n        console.warn(error)\r\n      }\r\n    },\r\n    afterPostTweetReply(payload) {\r\n      const { TweetId } = payload\r\n      this.likes.forEach(like => {\r\n        if (like.Tweet.id === Number(TweetId)) {\r\n          like.Tweet.repliesLength += 1\r\n        }\r\n      })\r\n      // 在自己的 User.vue，在 post reply 後，要在自己的 RepliesSection unshift 該則新回覆；在別人的 User.vue 則不用\r\n      if (this.$router.history.current.name === 'user' && Number(this.$router.history.current.params.id) === this.currentUser.id) {\r\n        this.$emit('after-post-tweet-reply', {\r\n          ...payload,\r\n        })\r\n      }\r\n    },\r\n    loadMore() {\r\n      if (this.loadMoreTrigger !== 'likes' || this.loadToEnd === true) {\r\n        return\r\n      }\r\n      this.busy = true\r\n      // 設定至少 1.5 秒後才可以再 trigger 一次\r\n      this.$emit('load-more', {\r\n        'from': 'likesSection'\r\n      })\r\n      setTimeout(() => {\r\n        this.busy = false\r\n      }, 1500)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n  watch: {\r\n    prosLikes(newValue) {\r\n      this.likes = newValue\r\n    },\r\n  },\r\n  mixins: [fromNowFilter]\r\n}\r\n</script>\r\n\r\n<style>\r\n.like-wrapper {\r\n  display: flex;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #E6ECF0;\r\n}\r\n\r\n.like-wrapper-left img {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n\r\n.like-wrapper-right {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 10px;\r\n}\r\n\r\n.like-tweet-info {\r\n  display: flex;\r\n}\r\n\r\n.like-tweet-info-name {\r\n  margin-right: 5px;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #1C1C1C;\r\n}\r\n\r\n.like-tweet-info-account,\r\n.like-tweet-info-data {\r\n  font-weight: 500;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #657786;\r\n}\r\n\r\n.like-tweet-description {\r\n  margin-top: 6px;\r\n  font-weight: 400;\r\n  font-size: 15px;\r\n  line-height: 22px;\r\n  color: #1C1C1C;\r\n  word-break: break-all\r\n}\r\n\r\n.like-interaction {\r\n  display: flex;\r\n}\r\n\r\n.like-interaction {\r\n  margin-top: 14px;\r\n  font-weight: 500;\r\n  font-size: 13px;\r\n  line-height: 13px;\r\n  color: #657786;\r\n}\r\n\r\n.like-interaction div {\r\n  display: flex;\r\n  margin-right: 50px;\r\n}\r\n\r\n.like-interaction div img {\r\n  width: 12px;\r\n  height: 12px;\r\n}\r\n\r\n.like-interaction div p {\r\n  margin: 0px;\r\n  margin-left: 12px;\r\n}\r\n\r\n.like-interaction-liked-p {\r\n  color: #E0245E;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LikesSection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LikesSection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LikesSection.vue?vue&type=template&id=0aeeab3c&\"\nimport script from \"./LikesSection.vue?vue&type=script&lang=js&\"\nexport * from \"./LikesSection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LikesSection.vue?vue&type=style&index=0&id=0aeeab3c&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n    <div class=\"left-container\">\r\n      <Navbar class=\"Navbar\" v-bind:currentUser=\"currentUser\" />\r\n    </div>\r\n\r\n    <div class=\"middle-container\">\r\n      <div class=\"middle-container-wrapper\">\r\n        <div class=\"middle-container-arrow-wrapper\">\r\n          <img src=\"../assets/arrow-left.png\" type=\"button\" v-on:click=\"hasHistory\" alt=\"\">\r\n        </div>\r\n        <div class=\"middle-container-page-title-wrapper\">\r\n          <h1>{{ user.name }}</h1>\r\n          <h3>{{ user.tweetsNum }}則推文</h3>\r\n        </div>\r\n      </div>\r\n      <UserBoard v-bind:propsUser=\"user\" v-bind:currentUser=\"currentUser\" v-on:after-put-userInfo=\"afterPutUserInfo\"\r\n        v-on:after-post-followship=\"afterPostFollowship\" v-on:after-delete-followship=\"afterDeleteFollowship\" />\r\n      <UserNavPills v-on:after-change-user-nav-pills=\"afterChangeUserNavPills\" />\r\n      <TweetsSection class=\"User-TweetsSection\" v-bind:propsTweets=\"tweets\"\r\n        v-on:after-post-tweet-reply=\"afterPostTweetReply\" v-on:after-like-tweet=\"afterLikeTweet\"\r\n        v-on:after-unlike-tweet=\"afterUnlikeTweet\" v-on:load-more=\"loadMore\" v-bind:loadMoreTrigger=\"loadMoreTrigger\" v-bind:loadToEnd=\"loadToEndTweets\" />\r\n      <RepliesSection class=\"User-RepliesSection User-Section-hidden\" v-bind:replies=\"replies\" v-on:load-more=\"loadMore\"\r\n        v-bind:loadMoreTrigger=\"loadMoreTrigger\" v-bind:loadToEnd=\"loadToEndReplies\"/>\r\n      <LikesSection class=\"User-LikesSection User-Section-hidden\" v-bind:prosLikes=\"likes\"\r\n        v-on:after-post-tweet-reply=\"afterPostTweetReply\" v-on:after-like-tweet=\"afterLikeTweet\"\r\n        v-on:after-unlike-tweet=\"afterUnlikeTweet\" v-on:load-more=\"loadMore\" v-bind:loadMoreTrigger=\"loadMoreTrigger\" v-bind:loadToEnd=\"loadToEndLikes\"/>\r\n      <ModalNewTweet v-bind:currentUser=\"currentUser\" v-on:after-post-new-tweet=\"afterPostNewTweet\" />\r\n    </div>\r\n\r\n    <div class=\"right-container\">\r\n      <FollowingsBar class=\"FollowingsBar\" v-bind:currentUser=\"currentUser\"\r\n        v-on:after-post-followship=\"afterPostFollowship\" v-on:after-delete-followship=\"afterDeleteFollowship\" />\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from '../components/Navbar.vue'\r\nimport FollowingsBar from '../components/FollowingsBar.vue'\r\nimport UserBoard from '../components/UserBoard.vue'\r\nimport UserNavPills from '../components/UserNavPills.vue'\r\nimport TweetsSection from '../components/TweetsSection.vue'\r\nimport RepliesSection from '../components/RepliesSection.vue'\r\nimport LikesSection from '../components/LikesSection.vue'\r\nimport ModalNewTweet from '../components/ModalNewTweet.vue'\r\nimport usersAPI from '../api/users'\r\nimport tweetsAPI from '../api/tweets'\r\nimport { mapState } from 'vuex'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { Toast } from '../utils/helpers'\r\n\r\nexport default {\r\n  components: {\r\n    Navbar,\r\n    FollowingsBar,\r\n    UserBoard,\r\n    UserNavPills,\r\n    TweetsSection,\r\n    RepliesSection,\r\n    LikesSection,\r\n    ModalNewTweet,\r\n  },\r\n  data() {\r\n    return {\r\n      user: {},\r\n      tweets: [],\r\n      replies: [],\r\n      likes: [],\r\n      tweetsOffset: 0,\r\n      repliesOffset: 0,\r\n      likesOffset: 0,\r\n      loadMoreTrigger: 'tweets',\r\n      loadToEndTweets: false,\r\n      loadToEndReplies: false,\r\n      loadToEndLikes: false\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUser(userId) {\r\n      try {\r\n        const response = await usersAPI.getUser({ userId })\r\n        if (response.status !== 200) {\r\n          throw new Error()\r\n        }\r\n        const data = response.data\r\n        this.user = {\r\n          ...data,\r\n        }\r\n      } catch (error) {\r\n        console.warn(error)\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '找不到該位 User',\r\n          timer: 2000,\r\n        })\r\n        this.$router.push({ name: 'not-found' })\r\n        setTimeout(() => {\r\n          this.$router.go(-2)\r\n        }, 1000)\r\n      }\r\n    },\r\n    async fetchUserTweets(userId) {\r\n      try {\r\n        const tweetsOffset = this.tweetsOffset || 0\r\n        this.tweetsOffset = this.tweetsOffset + 10\r\n        const response = await usersAPI.getUserTweets({ userId, tweetsOffset })\r\n        const data = response.data\r\n        if (data === 'loadToEnd') {\r\n          this.loadToEndTweets = true\r\n          return\r\n        }\r\n        data.forEach(tweet => {\r\n          this.tweets.push(tweet)\r\n        })\r\n      } catch (error) {\r\n        console.warn(error)\r\n      }\r\n    },\r\n    async fetchReplies(userId) {\r\n      try {\r\n        const repliesOffset = this.repliesOffset || 0\r\n        this.repliesOffset = this.repliesOffset + 10\r\n        const { data } = await usersAPI.getUserRepliedTweets({ userId, repliesOffset })\r\n        if (data === 'loadToEnd') {\r\n          this.loadToEndReplies = true\r\n          return\r\n        }\r\n        data.forEach(reply => {\r\n          this.replies.push(reply)\r\n        })\r\n      } catch (error) {\r\n        console.warn(error)\r\n      }\r\n    },\r\n    async fetchLikes(userId) {\r\n      try {\r\n        const likesOffset = this.likesOffset || 0\r\n        this.likesOffset = this.likesOffset + 10\r\n        const { data } = await usersAPI.getUserLikes({ userId, likesOffset })\r\n        if (data === 'loadToEnd') {\r\n          this.loadToEndLikes = true\r\n          return\r\n        }\r\n        data.forEach(like => {\r\n          this.likes.push(like)\r\n        })\r\n      } catch (error) {\r\n        console.warn(error)\r\n      }\r\n    },\r\n    afterChangeUserNavPills(payload) {\r\n      const nowCheckedSection = payload.value\r\n      const UserTweetsSection = document.querySelector('.User-TweetsSection')\r\n      const UserRepliesSection = document.querySelector('.User-RepliesSection')\r\n      const UserLikesSection = document.querySelector('.User-LikesSection')\r\n      switch (nowCheckedSection) {\r\n        case 'user-nav-pills-tweets':\r\n          UserTweetsSection.classList.remove('User-Section-hidden')\r\n          UserRepliesSection.classList.add('User-Section-hidden')\r\n          UserLikesSection.classList.add('User-Section-hidden')\r\n          this.loadMoreTrigger = 'tweets'\r\n          break\r\n        case 'user-nav-pills-tweetsAndReplies':\r\n          UserTweetsSection.classList.add('User-Section-hidden')\r\n          UserRepliesSection.classList.remove('User-Section-hidden')\r\n          UserLikesSection.classList.add('User-Section-hidden')\r\n          this.loadMoreTrigger = 'replies'\r\n          break\r\n        case 'user-nav-pills-likes':\r\n          UserTweetsSection.classList.add('User-Section-hidden')\r\n          UserRepliesSection.classList.add('User-Section-hidden')\r\n          UserLikesSection.classList.remove('User-Section-hidden')\r\n          this.loadMoreTrigger = 'likes'\r\n          break\r\n      }\r\n    },\r\n    afterPostNewTweet(payload) {\r\n      this.tweets.unshift({\r\n        Likes: [],\r\n        Replies: [],\r\n        User: {\r\n          account: this.currentUser.account,\r\n          avatar: this.currentUser.avatar,\r\n          banner: this.currentUser.banner,\r\n          id: this.currentUser.id,\r\n          introduction: this.currentUser.introduction,\r\n          name: this.currentUser.name,\r\n          role: this.currentUser.role,\r\n        },\r\n        UserId: this.currentUser.id,\r\n        createdAt: Date.now(),\r\n        description: payload.description,\r\n        id: payload.tweetId,\r\n        likesLength: 0,\r\n        repliesLength: 0,\r\n        updatedAt: Date.now(),\r\n      })\r\n      Toast.fire({\r\n        icon: 'success',\r\n        title: '推文發送成功'\r\n      })\r\n    },\r\n    afterPostTweetReply(payload) {\r\n      this.replies.unshift({\r\n        User: {\r\n          id: this.currentUser.id,\r\n          avatar: this.currentUser.avatar,\r\n          account: this.currentUser.account,\r\n          name: this.currentUser.name\r\n        },\r\n        Tweet: {\r\n          ...payload.Tweet,\r\n        },\r\n        id: payload.id,\r\n        comment: payload.comment,\r\n        createdAt: payload.createdAt\r\n      })\r\n      Toast.fire({\r\n        icon: 'success',\r\n        title: '回覆發送成功'\r\n      })\r\n    },\r\n    afterPutUserInfo(payload) {\r\n      // 更新畫面上的 tweets、replies、likes、user name\r\n      this.tweets.forEach(tweet => {\r\n        tweet.User.name = payload.name\r\n        tweet.User.avatar = !payload.avatar ? this.currentUser.avatar : payload.avatar\r\n      })\r\n      this.replies.forEach(reply => {\r\n        reply.User.name = payload.name\r\n        reply.User.avatar = !payload.avatar ? this.currentUser.avatar : payload.avatar\r\n      })\r\n      this.likes.forEach(like => {\r\n        if (like.Tweet.User.id === this.currentUser.id) {\r\n          like.Tweet.User.name = payload.name\r\n          like.Tweet.User.avatar = !payload.avatar ? this.currentUser.avatar : payload.avatar\r\n        }\r\n      })\r\n      this.user.name = payload.name\r\n    },\r\n    hasHistory() {\r\n      this.$router.go(-1)\r\n    },\r\n    afterPostFollowship(payload) {\r\n      if (payload.situation === 'atCurrentUserPage') {\r\n        this.user.Followings.push(Number(payload.followingId))\r\n      } else if (payload.situation === 'atOtherUserPage') {\r\n        this.user.Followers.push(Number(payload.followerId))\r\n      }\r\n    },\r\n    afterDeleteFollowship(payload) {\r\n      if (payload.situation === 'atCurrentUserPage') {\r\n        const tempUserFollowings = []\r\n        this.user.Followings.forEach(following => {\r\n          if (following !== payload.followingId) {\r\n            tempUserFollowings.push(following)\r\n          }\r\n        })\r\n        this.user.Followings = tempUserFollowings\r\n      } else if (payload.situation === 'atOtherUserPage') {\r\n        const tempUserFollowers = []\r\n        this.user.Followers.forEach(follower => {\r\n          if (follower !== payload.followerId) {\r\n            tempUserFollowers.push(follower)\r\n          }\r\n        })\r\n        this.user.Followers = tempUserFollowers\r\n      }\r\n    },\r\n    afterLikeTweet(payload) {\r\n      // 從 TweetsSection emit\r\n      if (payload.from === 'TweetsSection') {\r\n        const likesLength = payload.likesLength\r\n        let isNewLikedTweetAlreadyInLikes = false\r\n        // 確認被喜歡的 tweet，是否已經在 this.likes 中了\r\n        this.likes.forEach(like => {\r\n          if (like.Tweet.id === payload.newLikedTweet.id) {\r\n            isNewLikedTweetAlreadyInLikes = true\r\n            // 如果已經在 this.likes 中，把最新的 tweet 的喜歡次數(likesLength) 覆寫過去\r\n            like.Tweet.likesLength = likesLength\r\n          }\r\n        })\r\n        // 如果還不在 this.likes 中，unshift 到 this.likes 中\r\n        if (!isNewLikedTweetAlreadyInLikes) {\r\n          this.likes.unshift({\r\n            Tweet: {\r\n              ...payload.newLikedTweet,\r\n            }\r\n          })\r\n        }\r\n      }\r\n      // 從 LikesSection emit\r\n      if (payload.from === 'LikesSection') {\r\n        const likesLength = payload.likesLength\r\n        const likeTweetId = payload.likeTweetId\r\n        // 如果被喜歡的 tweet，是使用者 this.tweets 裡面的 tweet，則把最新的 tweet 的喜歡次數(likesLength) 覆寫過去\r\n        this.tweets.forEach(tweet => {\r\n          if (tweet.id === likeTweetId) {\r\n            tweet.likesLength = likesLength\r\n          }\r\n        })\r\n      }\r\n    },\r\n    afterUnlikeTweet(payload) {\r\n      const unlikeTweetId = payload.unlikeTweetId\r\n      const likesLength = payload.likesLength\r\n      const tempLikes = []\r\n      // 從 TweetsSection emit\r\n      if (payload.from === 'TweetsSection') {\r\n        // 被 unlike 的 tweet，如果在 this.likes 中，則把該個 like 刪除 \r\n        this.likes.forEach(like => {\r\n          if (like.Tweet.id !== unlikeTweetId) {\r\n            tempLikes.push(like)\r\n          }\r\n        })\r\n        this.likes = tempLikes\r\n      }\r\n      // 如果被 unlike 的 tweet，是使用者 this.tweets 裡面的 tweet，則把最新的 tweet 的喜歡次數(likesLength) 覆寫過去\r\n      this.tweets.forEach(tweet => {\r\n        if (tweet.id === unlikeTweetId) {\r\n          tweet.likesLength = likesLength\r\n        }\r\n      })\r\n    },\r\n    loadMore(payload) {\r\n      const userId = this.$route.params.id\r\n      switch (payload.from) {\r\n        case 'tweetsSection':\r\n          this.fetchUserTweets(userId)\r\n          break\r\n        case 'repliesSection':\r\n          this.fetchReplies(userId)\r\n          break\r\n        case 'likesSection':\r\n          this.fetchLikes(userId)\r\n          break\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n  mounted() {\r\n    const userId = this.$route.params.id\r\n    this.fetchUser(userId)\r\n    this.fetchUserTweets(userId)\r\n    this.fetchReplies(userId)\r\n    this.fetchLikes(userId)\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    const userId = to.params.id\r\n    this.fetchUser(userId)\r\n    this.fetchUserTweets(userId)\r\n    this.fetchReplies(userId)\r\n    this.fetchLikes(userId)\r\n    next()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.User-Section-hidden {\r\n  display: none;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=b6fa2136&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=b6fa2136&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","loadMore","expression","attrs","_l","replies","reply","key","id","staticClass","User","avatar","_v","_s","account","_f","createdAt","Tweet","comment","staticRenderFns","props","type","loadMoreTrigger","loadToEnd","methods","setTimeout","mixins","component","tweets","tweet","description","require","repliesLength","currentUser","userLikesId","includes","on","$event","unlikeTweet","likesLength","likeTweet","afterPostTweetReply","components","ModalTweetReply","propsTweets","required","data","busy","TweetId","tweetId","newLikedTweet","from","console","unlikeTweetId","computed","watch","hasHistory","user","tweetsNum","afterPutUserInfo","afterPostFollowship","afterDeleteFollowship","afterChangeUserNavPills","loadToEndTweets","afterLikeTweet","afterUnlikeTweet","loadToEndReplies","likes","loadToEndLikes","afterPostNewTweet","banner","Followings","isProcessing","deleteFollowship","postFollowship","introduction","params","query","show","propsUser","length","Followers","cancelEdit","preventDefault","stopPropagation","handleSubmit","apply","arguments","userNewInfo","_m","removeBanner","staticStyle","domProps","words_deal","target","composing","$set","handleFileChange","userOriginalInfo","Toast","icon","title","formData","timer","userId","response","emitData","textContentSpanWrappers","textContentSpanWrapper","files","event","created","postNoti","apiHelper","deleteNoti","notiObjId","ModalUserInfo","followingsLength","followersLength","situation","followerId","followingId","chat","path","changeUserNavPills","like","newTweetReply","ModalTweetReplyLikesSection","prosLikes","likeTweetId","Navbar","FollowingsBar","UserBoard","UserNavPills","TweetsSection","RepliesSection","LikesSection","ModalNewTweet","tweetsOffset","repliesOffset","likesOffset","UserTweetsSection","UserRepliesSection","UserLikesSection","Likes","Replies","role","UserId","updatedAt","tempUserFollowings","tempUserFollowers","isNewLikedTweetAlreadyInLikes","tempLikes","mounted","beforeRouteUpdate","next"],"sourceRoot":""}